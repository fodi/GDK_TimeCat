{
	"name": "eTimers ‚è∞",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "Player",
					"sid": 368694596564405,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "TIMER_TileReveal"
					}
				},
				{
					"id": "for-each",
					"objectClass": "System",
					"sid": 613691177004148,
					"parameters": {
						"object": "Player"
					}
				}
			],
			"actions": [],
			"sid": 454457054152501,
			"children": [
				{
					"eventType": "comment",
					"text": "todo refactor"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Tile",
							"sid": 139918683882070,
							"parameters": {
								"unique-id": "Player.tileUID1"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "fTile",
							"sid": 525576140582220,
							"parameters": {
								"unique-id": "Player.tileUID2"
							}
						}
					],
					"actions": [],
					"sid": 771968055309229,
					"children": [
						{
							"eventType": "comment",
							"text": "If symbols match..."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Tile",
									"sid": 118492516254789,
									"parameters": {
										"instance-variable": "symbol",
										"comparison": 0,
										"value": "fTile.symbol"
									}
								}
							],
							"actions": [
								{
									"customAction": "remove",
									"objectClass": "Tile",
									"customActionObjectClass": "fTile",
									"sid": 373883693563742
								},
								{
									"customAction": "remove",
									"objectClass": "fTile",
									"sid": 442142979237708
								},
								{
									"customAction": "changeHealth",
									"objectClass": "Player",
									"sid": 534637622254336,
									"parameters": [
										"Self.R_Health_BonusOnPair",
										"YES"
									]
								}
							],
							"sid": 315455249506772,
							"children": [
								{
									"eventType": "comment",
									"text": "If symbol is an item..."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 947589207699850,
											"parameters": {
												"object": "Tile",
												"expression": "int(Tile.symbol)",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 619323921869795,
									"children": [
										{
											"eventType": "comment",
											"text": "If item is health, heal immediately"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Tile",
													"sid": 403577862978357,
													"parameters": {
														"instance-variable": "symbol",
														"comparison": 0,
														"value": "ITEM_Health"
													}
												}
											],
											"actions": [
												{
													"customAction": "changeHealth",
													"objectClass": "Player",
													"sid": 468073674070935,
													"parameters": [
														"Self.R_Health_BonusOnHeal",
														"YES"
													]
												}
											],
											"sid": 737920009310871
										},
										{
											"eventType": "comment",
											"text": "Otherwise pick up item"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 178670916917806
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "Player",
													"sid": 252212968672863,
													"parameters": {
														"instance-variable": "item",
														"value": "Tile.symbol"
													}
												},
												{
													"customAction": "spawn",
													"objectClass": "Box",
													"sid": 573451306497234,
													"parameters": [
														"fTile.X",
														"fTile.Y",
														"fTile.symbol"
													]
												}
											],
											"sid": 572611703805464,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-children",
															"objectClass": "Player",
															"sid": 838147145103783,
															"parameters": {
																"child": "Symbol",
																"which": "own"
															}
														}
													],
													"actions": [
														{
															"id": "set-animation",
															"objectClass": "Symbol",
															"sid": 286548020248676,
															"parameters": {
																"animation": "Tile.symbol",
																"from": "beginning"
															}
														},
														{
															"id": "set-visible",
															"objectClass": "Symbol",
															"sid": 434206966980478,
															"parameters": {
																"visibility": "visible"
															}
														}
													],
													"sid": 273321501811304,
													"disabled": true
												},
												{
													"eventType": "block",
													"conditions": [],
													"actions": [],
													"sid": 488308425258640
												},
												{
													"bookmark": true,
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-children",
															"objectClass": "Player",
															"sid": 141176189294209,
															"parameters": {
																"child": "3dBox",
																"which": "own"
															}
														}
													],
													"actions": [],
													"sid": 539739955140212,
													"disabled": true,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "Player",
																	"sid": 980332467619039,
																	"parameters": {
																		"instance-variable": "item",
																		"comparison": 0,
																		"value": "ITEM_Projectile"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 274484822736765,
																	"parameters": {
																		"face": "front",
																		"object": "txBoxProjectile"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 315121240075398,
																	"parameters": {
																		"face": "left",
																		"object": "txBoxProjectile"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 653087343354793,
																	"parameters": {
																		"face": "right",
																		"object": "txBoxProjectile"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 850633685786511,
																	"parameters": {
																		"face": "top",
																		"object": "txBoxProjectile"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 386645889863409,
																	"parameters": {
																		"face": "bottom",
																		"object": "txBoxProjectile"
																	}
																}
															],
															"sid": 407705065108516,
															"disabled": true
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "Player",
																	"sid": 319697959545035,
																	"parameters": {
																		"instance-variable": "item",
																		"comparison": 0,
																		"value": "ITEM_Shield"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 374296047387169,
																	"parameters": {
																		"face": "front",
																		"object": "txBoxShield"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 863795145197041,
																	"parameters": {
																		"face": "left",
																		"object": "txBoxShield"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 767319903093391,
																	"parameters": {
																		"face": "right",
																		"object": "txBoxShield"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 576847908328488,
																	"parameters": {
																		"face": "top",
																		"object": "txBoxShield"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 237614202353983,
																	"parameters": {
																		"face": "bottom",
																		"object": "txBoxShield"
																	}
																}
															],
															"sid": 133226792239028,
															"disabled": true
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "Player",
																	"sid": 409341399797297,
																	"parameters": {
																		"instance-variable": "item",
																		"comparison": 0,
																		"value": "ITEM_Sleep"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 114790194625569,
																	"parameters": {
																		"face": "front",
																		"object": "txBoxSleep"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 131547427924407,
																	"parameters": {
																		"face": "left",
																		"object": "txBoxSleep"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 279354581427049,
																	"parameters": {
																		"face": "right",
																		"object": "txBoxSleep"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 120337774498058,
																	"parameters": {
																		"face": "top",
																		"object": "txBoxSleep"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 266009059830719,
																	"parameters": {
																		"face": "bottom",
																		"object": "txBoxSleep"
																	}
																}
															],
															"sid": 795425288854222,
															"disabled": true
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "Player",
																	"sid": 869821567312563,
																	"parameters": {
																		"instance-variable": "item",
																		"comparison": 0,
																		"value": "ITEM_Slow"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 495436584211042,
																	"parameters": {
																		"face": "front",
																		"object": "txBoxSlow"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 911728444079157,
																	"parameters": {
																		"face": "left",
																		"object": "txBoxSlow"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 226135718534724,
																	"parameters": {
																		"face": "right",
																		"object": "txBoxSlow"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 492026388667310,
																	"parameters": {
																		"face": "top",
																		"object": "txBoxSlow"
																	}
																},
																{
																	"id": "set-face-object",
																	"objectClass": "3dBox",
																	"sid": 615463359338632,
																	"parameters": {
																		"face": "bottom",
																		"object": "txBoxSlow"
																	}
																}
															],
															"sid": 528447884414521,
															"disabled": true
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-visible",
																	"objectClass": "3dBox",
																	"sid": 752795513330772,
																	"parameters": {
																		"visibility": "visible"
																	}
																}
															],
															"sid": 649033831769646,
															"disabled": true
														}
													]
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "If symbols don't match..."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 908124380757705
								}
							],
							"actions": [
								{
									"customAction": "close",
									"objectClass": "Tile",
									"customActionObjectClass": "fTile",
									"sid": 770086172908413
								},
								{
									"customAction": "close",
									"objectClass": "fTile",
									"sid": 152826367432732
								}
							],
							"sid": 891388490963176
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 547055268342069,
							"parameters": {
								"instance-variable": "tileUID1",
								"value": "NOTHING"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 336909580984732,
							"parameters": {
								"instance-variable": "tileUID2",
								"value": "NOTHING"
							}
						}
					],
					"sid": 449365403950433
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "Cannon",
					"sid": 601779891073436,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "TIMER_SpawnProjectile"
					}
				},
				{
					"id": "for-each",
					"objectClass": "System",
					"sid": 144438903343036,
					"parameters": {
						"object": "Cannon"
					}
				}
			],
			"actions": [
				{
					"id": "start-timer",
					"objectClass": "Cannon",
					"sid": 481236610415525,
					"behaviorType": "Timer",
					"parameters": {
						"duration": "random(Self.R_Spawn_Interval_Min, Self.R_Spawn_Interval_Max)",
						"type": "once",
						"tag": "TIMER_SpawnProjectile"
					}
				}
			],
			"sid": 285412513229668,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 757464214803311,
							"parameters": {
								"instance-variable": "health",
								"comparison": 4,
								"value": "0"
							}
						},
						{
							"id": "pick-nearestfurthest",
							"objectClass": "Player",
							"sid": 901508114031172,
							"parameters": {
								"which": "furthest",
								"x": "Cannon.X",
								"y": "Cannon.Y"
							}
						}
					],
					"actions": [
						{
							"customAction": "spawn",
							"objectClass": "Projectile",
							"sid": 875655215829534,
							"parameters": [
								"Cannon.X",
								"Cannon.Y",
								"Player.X",
								"Player.Y"
							]
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 393027637305962,
							"parameters": {
								"variable": "R_Projectile_MovementSpeed",
								"value": "min(R_Projectile_MovementSpeed + 10, 300)"
							}
						}
					],
					"sid": 692676499856425
				}
			]
		}
	],
	"sid": 750823255495774
}