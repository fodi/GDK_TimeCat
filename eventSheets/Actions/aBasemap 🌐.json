{
	"name": "aBasemap üåê",
	"events": [
		{
			"aceType": "action",
			"aceName": "spawn",
			"objectClass": "Basemap",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 144924698954862,
					"parameters": {
						"object-to-create": "3dIsland",
						"layer": "LAYER_Main",
						"x": "midX",
						"y": "midY",
						"create-hierarchy": false,
						"template-name": "\"\""
					}
				},
				{
					"id": "set-size",
					"objectClass": "3dIsland",
					"sid": 999257139450070,
					"parameters": {
						"width": "R_Level_Columns * C_Level_Grid_Size",
						"height": "R_Level_Rows * C_Level_Grid_Size"
					}
				},
				{
					"id": "set-z-elevation",
					"objectClass": "3dIsland",
					"sid": 813149382904549,
					"parameters": {
						"z": "- Self.ZHeight - 1.5"
					}
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 316711022158292,
					"parameters": {
						"object-to-create": "Basemap",
						"layer": "LAYER_Main",
						"x": "-(C_Level_Grid_Size * C_Basemap_Ground_Border + C_Level_Grid_Size * C_Basemap_Water_Border)",
						"y": "-(C_Level_Grid_Size * C_Basemap_Ground_Border + C_Level_Grid_Size * C_Basemap_Water_Border)",
						"create-hierarchy": true,
						"template-name": "\"\""
					}
				},
				{
					"id": "set-z-elevation",
					"objectClass": "Basemap",
					"sid": 518911617190348,
					"parameters": {
						"z": "3dIsland.ZElevation"
					}
				},
				{
					"id": "erase-tile-range",
					"objectClass": "Basemap",
					"sid": 562472132364405,
					"parameters": {
						"tile-x": "0",
						"tile-y": "0",
						"width": "Self.TileWidth",
						"height": "Self.TileHeight"
					}
				},
				{
					"id": "set-size",
					"objectClass": "Basemap",
					"sid": 120233365649329,
					"parameters": {
						"width": "(R_Level_Columns + C_Basemap_Ground_Border * 2 + C_Basemap_Water_Border * 2) * C_Level_Grid_Size",
						"height": "(R_Level_Rows + C_Basemap_Ground_Border * 2 + C_Basemap_Water_Border * 2) * C_Level_Grid_Size"
					}
				},
				{
					"customAction": "animate",
					"objectClass": "Basemap",
					"sid": 223582080540917
				},
				{
					"id": "start-timer",
					"objectClass": "Basemap",
					"sid": 921746812368904,
					"behaviorType": "Timer",
					"parameters": {
						"duration": "0.7",
						"type": "regular",
						"tag": "TIMER_Basemap_Animate"
					}
				}
			],
			"sid": 235751073228539,
			"children": [
				{
					"eventType": "comment",
					"text": "Spawn decorations & obstacles"
				},
				{
					"eventType": "comment",
					"text": "todo use noise instead of random"
				},
				{
					"eventType": "comment",
					"text": "todo re-enable after assets"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 106784245397693,
							"parameters": {
								"name": "W_X",
								"start-index": "C_Basemap_Water_Border + C_Basemap_Ground_Border",
								"end-index": "Basemap.Width / C_Level_Grid_Size - C_Basemap_Water_Border - C_Basemap_Ground_Border - 2"
							}
						},
						{
							"id": "for",
							"objectClass": "System",
							"sid": 116536683101495,
							"parameters": {
								"name": "W_Y",
								"start-index": "C_Basemap_Water_Border + C_Basemap_Ground_Border",
								"end-index": "Basemap.Height / C_Level_Grid_Size - C_Basemap_Water_Border -C_Basemap_Ground_Border - 2"
							}
						}
					],
					"actions": [],
					"sid": 416801256823075,
					"disabled": true,
					"children": [
						{
							"eventType": "comment",
							"text": "todo MNs"
						},
						{
							"eventType": "comment",
							"text": "Spawn obstacles"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 737565484897546,
									"parameters": {
										"count": "int(random(0, 2))"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 907098130621568,
									"parameters": {
										"object-to-create": "3dObstacle1",
										"layer": "LAYER_Main",
										"x": "Basemap.TileToPositionX(loopindex(W_X)) + random(0, C_Level_Grid_Size)",
										"y": "Basemap.TileToPositionY(loopindex(W_Y)) + random(0, C_Level_Grid_Size)",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-angle",
									"objectClass": "3dObstacle1",
									"sid": 751198962276685,
									"parameters": {
										"angle": "random(-20, 20)"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "3dObstacle1",
									"sid": 187704137844798,
									"disabled": true,
									"parameters": {
										"angle": "int(random(0, 3)) * random(8, 10) * choose(-1, 1)"
									}
								}
							],
							"sid": 999534924281563,
							"disabled": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "3dObstacle1",
											"sid": 332454965212189,
											"parameters": {
												"object": "f3DObstacles"
											}
										},
										{
											"id": "is-overlapping-at-offset",
											"objectClass": "3dObstacle1",
											"sid": 852885091582141,
											"parameters": {
												"object": "f3DObstacles",
												"offset-x": "-Self.Width",
												"offset-y": "0"
											}
										},
										{
											"id": "is-overlapping-at-offset",
											"objectClass": "3dObstacle1",
											"sid": 195164383968020,
											"parameters": {
												"object": "f3DObstacles",
												"offset-x": "Self.Width",
												"offset-y": "0"
											}
										},
										{
											"id": "is-overlapping-at-offset",
											"objectClass": "3dObstacle1",
											"sid": 608912198927113,
											"parameters": {
												"object": "f3DObstacles",
												"offset-x": "0",
												"offset-y": "-Self.Height"
											}
										},
										{
											"id": "is-overlapping-at-offset",
											"objectClass": "3dObstacle1",
											"sid": 556132425036768,
											"parameters": {
												"object": "f3DObstacles",
												"offset-x": "0",
												"offset-y": "Self.Height"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "3dObstacle1",
											"sid": 861942623920395
										}
									],
									"sid": 666866691919378,
									"disabled": true,
									"isOrBlock": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Spawn decorations"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 425580008101628,
									"parameters": {
										"count": "int(random(2, 4))"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 911380415082992,
									"parameters": {
										"object-to-create": "bbDecor",
										"layer": "LAYER_Main",
										"x": "Basemap.TileToPositionX(loopindex(W_X)) + random(0, C_Level_Grid_Size)",
										"y": "Basemap.TileToPositionY(loopindex(W_Y)) + random(0, C_Level_Grid_Size)",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "bbDecor",
									"sid": 995031116677521,
									"parameters": {
										"frame-number": "int(random(0, Self.AnimationFrameCount))"
									}
								}
							],
							"sid": 583335893139299,
							"disabled": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "bbDecor",
											"sid": 645486394431135,
											"parameters": {
												"object": "fBillboards"
											}
										},
										{
											"id": "is-overlapping-at-offset",
											"objectClass": "bbDecor",
											"sid": 827347211781878,
											"parameters": {
												"object": "fBillboards",
												"offset-x": "-Self.Width",
												"offset-y": "0"
											}
										},
										{
											"id": "is-overlapping-at-offset",
											"objectClass": "bbDecor",
											"sid": 922934189092811,
											"parameters": {
												"object": "fBillboards",
												"offset-x": "Self.Width",
												"offset-y": "0"
											}
										},
										{
											"id": "is-overlapping-at-offset",
											"objectClass": "bbDecor",
											"sid": 773890920174556,
											"parameters": {
												"object": "fBillboards",
												"offset-x": "0",
												"offset-y": "-Self.Height"
											}
										},
										{
											"id": "is-overlapping-at-offset",
											"objectClass": "bbDecor",
											"sid": 293317804174363,
											"parameters": {
												"object": "fBillboards",
												"offset-x": "0",
												"offset-y": "Self.Height * 3"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "bbDecor",
											"sid": 118950829400185
										}
									],
									"sid": 362019674868729,
									"disabled": true,
									"isOrBlock": true
								}
							]
						}
					]
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "animate",
			"objectClass": "Basemap",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 438626737435016,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 391996921119762,
							"parameters": {
								"name": "W_X",
								"start-index": "C_Basemap_Water_Border",
								"end-index": "Basemap.Width / C_Level_Grid_Size - C_Basemap_Water_Border - 1"
							}
						},
						{
							"id": "for",
							"objectClass": "System",
							"sid": 720543238612109,
							"parameters": {
								"name": "W_Y",
								"start-index": "C_Basemap_Water_Border",
								"end-index": "Basemap.Height / C_Level_Grid_Size - C_Basemap_Water_Border - 1"
							}
						}
					],
					"actions": [
						{
							"id": "set-tile-with-brush-by-name",
							"objectClass": "Basemap",
							"sid": 166679567509142,
							"parameters": {
								"tile-x": "loopindex(W_X)",
								"tile-y": "loopindex(W_Y)",
								"brush": "Self.animationFrame = 0 ? BRUSH_Ground1 : BRUSH_Ground2"
							}
						}
					],
					"sid": 492405410411685
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Basemap",
							"sid": 247415891858029,
							"parameters": {
								"instance-variable": "animationFrame",
								"value": "Self.animationFrame = 0 ? 1 : 0"
							}
						}
					],
					"sid": 494677077175158
				}
			]
		}
	],
	"sid": 536593058551067
}