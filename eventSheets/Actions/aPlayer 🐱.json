{
	"name": "aPlayer üê±",
	"events": [
		{
			"eventType": "comment",
			"text": "todo shield with deflection"
		},
		{
			"aceType": "action",
			"aceName": "init",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 846445072912984,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Overrides"
						},
						{
							"id": "set-solid-collision-filter",
							"objectClass": "Player",
							"sid": 876223557924203,
							"parameters": {
								"mode": "exclusive",
								"tags": "SOLID_Box"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 321717557408034,
							"parameters": {
								"instance-variable": "R_Health_Start",
								"value": "Functions.Config_getNumber(PARAM_Player_Health)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 942034872246473,
							"parameters": {
								"instance-variable": "R_Health_BonusOnPair",
								"value": "Functions.Config_getNumber(PARAM_Player_HealPair)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 123777258069747,
							"parameters": {
								"instance-variable": "R_Health_BonusOnHeal",
								"value": "Functions.Config_getNumber(PARAM_Player_HealItem)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 408952610930772,
							"parameters": {
								"instance-variable": "R_MovementSpeed_Normal",
								"value": "Functions.Config_getNumber(PARAM_Player_MovementSpeed)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 586549727729621,
							"parameters": {
								"instance-variable": "R_MovementSpeed_Slow",
								"value": "Functions.Config_getNumber(PARAM_Player_MovementSpeed_Slow)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 836214863750847,
							"parameters": {
								"instance-variable": "R_Box_MovementSpeed",
								"value": "Functions.Config_getNumber(PARAM_Item_Speed)"
							}
						},
						{
							"type": "comment",
							"text": "Initialize "
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 797936773881677,
							"parameters": {
								"instance-variable": "health",
								"value": "Self.R_Health_Start"
							}
						},
						{
							"id": "set-max-speed",
							"objectClass": "Player",
							"sid": 111343665329170,
							"behaviorType": "8Direction",
							"parameters": {
								"max-speed": "Self.R_MovementSpeed_Normal"
							}
						}
					],
					"sid": 447534482310816
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 492436812501198,
							"parameters": {
								"child": "bbPlayer",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "bbPlayer",
							"sid": 336314641302842,
							"parameters": {
								"instance-variable": "playerId",
								"value": "Player.playerId"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "bbPlayer",
							"sid": 510241750128513,
							"parameters": {
								"instance-variable": "initAnimationSpeed",
								"value": "Self.AnimationSpeed"
							}
						}
					],
					"sid": 713148674116131
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "tick",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 608725959345493,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 223165689984766,
							"parameters": {
								"variable": "hasLevelEnded",
								"comparison": 0,
								"value": "NO"
							}
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 759744651576692,
							"parameters": {
								"variable": "isPaused",
								"comparison": 0,
								"value": "NO"
							}
						}
					],
					"actions": [],
					"sid": 587775716959958,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 747039579730448,
									"parameters": {
										"instance-variable": "isDead",
										"comparison": 0,
										"value": "NO"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "Player",
									"sid": 895350066261387,
									"parameters": {
										"child": "bbPlayer",
										"which": "own"
									}
								},
								{
									"id": "is-timer-running",
									"objectClass": "Player",
									"sid": 425733675334449,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "TIMER_Player_Sleep"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 565595879900194,
							"children": [
								{
									"eventType": "comment",
									"text": "Handle digital movement"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 203156690897941,
											"parameters": {
												"instance-variable": "IN_Up",
												"comparison": 0,
												"value": "YES"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 492325711733329,
											"parameters": {
												"instance-variable": "IN_Down",
												"comparison": 0,
												"value": "YES"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 798679687648059,
											"parameters": {
												"instance-variable": "IN_Left",
												"comparison": 0,
												"value": "YES"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 548088366531169,
											"parameters": {
												"instance-variable": "IN_Right",
												"comparison": 0,
												"value": "YES"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Player",
											"sid": 758025289573903,
											"parameters": {
												"instance-variable": "IN_Move",
												"value": "YES"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Player",
											"sid": 499330644360394,
											"parameters": {
												"instance-variable": "IN_Move_Angle",
												"value": "angle(0, 0, Player.IN_Right - Player.IN_Left, Player.IN_Down - Player.IN_Up)"
											}
										}
									],
									"sid": 151547628573832,
									"isOrBlock": true
								},
								{
									"eventType": "comment",
									"text": "Update player's current angle variable if player is moving or aiming (otherwise, keep last value)"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 570176993187359,
											"parameters": {
												"instance-variable": "IN_Move",
												"comparison": 0,
												"value": "YES"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Player",
											"sid": 165546471867728,
											"parameters": {
												"instance-variable": "currentAngle",
												"value": "Player.IN_Move_Angle"
											}
										}
									],
									"sid": 273981736477435
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 826910594556217
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 111100411726404,
											"parameters": {
												"instance-variable": "IN_Aim",
												"comparison": 0,
												"value": "YES"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Player",
											"sid": 263228608253627,
											"parameters": {
												"instance-variable": "currentAngle",
												"value": "Player.IN_Aim_Angle"
											}
										}
									],
									"sid": 956668401045789
								},
								{
									"eventType": "comment",
									"text": "Switch animation according to player aim/movement angle"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-angles",
											"objectClass": "System",
											"sid": 758770063574639,
											"parameters": {
												"angle": "Player.currentAngle",
												"first-angle": "-60",
												"second-angle": "60"
											}
										}
									],
									"actions": [
										{
											"customAction": "updateAnimation",
											"objectClass": "Player",
											"sid": 838508592014433,
											"parameters": [
												"ANIM_Right"
											]
										}
									],
									"sid": 915501844255090
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 831911820288685
										},
										{
											"id": "is-between-angles",
											"objectClass": "System",
											"sid": 822189485544097,
											"parameters": {
												"angle": "Player.currentAngle",
												"first-angle": "120",
												"second-angle": "240"
											}
										}
									],
									"actions": [
										{
											"customAction": "updateAnimation",
											"objectClass": "Player",
											"sid": 830805725487852,
											"parameters": [
												"ANIM_Left"
											]
										}
									],
									"sid": 549894984114399
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 384224403397944
										},
										{
											"id": "is-between-angles",
											"objectClass": "System",
											"sid": 979477917939749,
											"parameters": {
												"angle": "Player.currentAngle",
												"first-angle": "240",
												"second-angle": "300"
											}
										}
									],
									"actions": [
										{
											"customAction": "updateAnimation",
											"objectClass": "Player",
											"sid": 919023260779651,
											"parameters": [
												"ANIM_Up"
											]
										}
									],
									"sid": 630016437971469
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 491513802910329
										},
										{
											"id": "is-between-angles",
											"objectClass": "System",
											"sid": 314930774818609,
											"parameters": {
												"angle": "Player.currentAngle",
												"first-angle": "60",
												"second-angle": "120"
											}
										}
									],
									"actions": [
										{
											"customAction": "updateAnimation",
											"objectClass": "Player",
											"sid": 213105470600174,
											"parameters": [
												"ANIM_Down"
											]
										}
									],
									"sid": 639238783630891
								},
								{
									"eventType": "comment",
									"text": "Do movement if needed"
								},
								{
									"eventType": "variable",
									"name": "movementSpeed",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 226228531536649
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 522652247351482,
											"parameters": {
												"instance-variable": "IN_Move",
												"comparison": 0,
												"value": "YES"
											}
										}
									],
									"actions": [],
									"sid": 668689675771412,
									"children": [
										{
											"eventType": "comment",
											"text": "Calculate movement speed: normal / carrying + additional slow effect if needed"
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 714247914525777,
													"parameters": {
														"variable": "movementSpeed",
														"value": "Player.carryingBoxUID = NOTHING ? Player.R_MovementSpeed_Normal : Player.R_MovementSpeed_Slow"
													}
												}
											],
											"sid": 390250577880496
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-timer-running",
													"objectClass": "Player",
													"sid": 745498911146153,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "TIMER_Player_Slow"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 409235339234797,
													"parameters": {
														"variable": "movementSpeed",
														"value": "movementSpeed * Functions.Config_getNumber(PARAM_Item_Slow_Factor)"
													}
												}
											],
											"sid": 141143617397989
										},
										{
											"eventType": "comment",
											"text": "If player is aiming, set movement speed to 0"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Player",
													"sid": 571170445687444,
													"parameters": {
														"instance-variable": "IN_Aim",
														"comparison": 0,
														"value": "YES"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 671533407268831,
													"parameters": {
														"variable": "movementSpeed",
														"value": "0"
													}
												}
											],
											"sid": 195706109012047
										},
										{
											"eventType": "comment",
											"text": "Move player and damage them with dt"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 186000139339094,
													"parameters": {
														"variable": "movementSpeed",
														"comparison": 1,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"customAction": "changeHealth",
													"objectClass": "Player",
													"sid": 788180434508353,
													"parameters": [
														"-dt * Functions.Config_getNumber(PARAM_Player_HealthDrain)",
														"NO",
														"NO"
													]
												},
												{
													"id": "set-vector-x",
													"objectClass": "Player",
													"sid": 900785635261042,
													"behaviorType": "8Direction",
													"parameters": {
														"vector-x": "cos(Player.IN_Move_Angle) * movementSpeed"
													}
												},
												{
													"id": "set-vector-y",
													"objectClass": "Player",
													"sid": 459433880576684,
													"behaviorType": "8Direction",
													"parameters": {
														"vector-y": "sin(Player.IN_Move_Angle) * movementSpeed"
													}
												}
											],
											"sid": 431832818834294
										},
										{
											"eventType": "comment",
											"text": "If player is not carrying a box, use normal animation speed"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Player",
													"sid": 438115036615129,
													"parameters": {
														"instance-variable": "carryingBoxUID",
														"comparison": 0,
														"value": "NOTHING"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-speed",
													"objectClass": "bbPlayer",
													"sid": 965097779258940,
													"parameters": {
														"speed": "Self.initAnimationSpeed"
													}
												}
											],
											"sid": 310912418169011
										},
										{
											"eventType": "comment",
											"text": "If player is carrying a box, use slowed down animation speed"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 716913166347913
												}
											],
											"actions": [
												{
													"id": "set-animation-speed",
													"objectClass": "bbPlayer",
													"sid": 623326605598518,
													"parameters": {
														"speed": "Self.initAnimationSpeed * (Player.R_MovementSpeed_Slow / Player.R_MovementSpeed_Normal)"
													}
												}
											],
											"sid": 928367888274778
										}
									]
								},
								{
									"eventType": "comment",
									"text": "If player is not moving, stop & switch to standing frame"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 705180349057804,
											"parameters": {
												"variable": "movementSpeed",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "stop",
											"objectClass": "Player",
											"sid": 374355007786071,
											"behaviorType": "8Direction"
										},
										{
											"id": "set-animation-frame",
											"objectClass": "bbPlayer",
											"sid": 315124838529181,
											"parameters": {
												"frame-number": "FRAME_Standing"
											}
										}
									],
									"sid": 705863366586606
								},
								{
									"eventType": "comment",
									"text": "If player has a box, update it's position & angle"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-children",
											"objectClass": "Player",
											"sid": 723255104943244,
											"parameters": {
												"child": "Item",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "set-position",
											"objectClass": "Item",
											"sid": 627260830318683,
											"parameters": {
												"x": "Player.X + cos(anglelerp(angle(Player.X, Player.Y, Self.X, Self.Y), Player.currentAngle, 0.2)) * Player.R_Box_Distance",
												"y": "Player.Y + sin(anglelerp(angle(Player.X, Player.Y, Self.X, Self.Y), Player.currentAngle, 0.2)) * Player.R_Box_Distance"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "Item",
											"sid": 525203394453657,
											"parameters": {
												"angle": "anglelerp(Self.Angle, Player.currentAngle, 0.2)"
											}
										}
									],
									"sid": 257552961918341
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UI_TextSF",
									"sid": 625230514664785,
									"parameters": {
										"instance-variable": "role",
										"comparison": 0,
										"value": "ROLE_PlayerHealth"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "UI_TextSF",
									"sid": 842627023051821,
									"parameters": {
										"instance-variable": "paramNumber",
										"comparison": 0,
										"value": "Player.playerId"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "todo alignment"
								},
								{
									"id": "set-text",
									"objectClass": "UI_TextSF",
									"sid": 462218139269352,
									"parameters": {
										"text": "\"[color=#\" & trim(tokenat(C_CSV_Colors_Hex, Player.playerId, \",\")) & \"][scale=0.4]HEALTH[/scale]\" & newline & int(Player.health)"
									}
								}
							],
							"sid": 480974457383309
						}
					]
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "spawn",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "sourcePlayerId",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 239190733849133
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 773717553376150,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 249425168367692,
							"parameters": {
								"variable": "hasLevelEnded",
								"comparison": 0,
								"value": "NO"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 450132910785256,
							"parameters": {
								"variable": "playerCount",
								"value": "1"
							}
						},
						{
							"callFunction": "playSoundAt",
							"sid": 931726268797243,
							"parameters": [
								"Player.X",
								"Player.Y",
								"SFX_Player_Spawning",
								"1",
								"NO"
							]
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 950569274520008,
							"parameters": {
								"object-to-create": "Player",
								"layer": "LAYER_Shadows",
								"x": "midX",
								"y": "midY",
								"create-hierarchy": true,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 745270294807430,
							"parameters": {
								"instance-variable": "playerId",
								"value": "sourcePlayerId"
							}
						},
						{
							"customAction": "init",
							"objectClass": "Player",
							"sid": 778435541206457
						}
					],
					"sid": 768383302968141
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "onAction",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "sourcePlayerId",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 259019913465708
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 234693284807956,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 922158592789209,
							"parameters": {
								"variable": "hasLevelEnded",
								"comparison": 0,
								"value": "NO"
							}
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 338698830286170,
							"parameters": {
								"variable": "isPaused",
								"comparison": 0,
								"value": "NO"
							}
						}
					],
					"actions": [],
					"sid": 959058724392869,
					"children": [
						{
							"eventType": "comment",
							"text": "If player is already in the game..."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 164938964345186,
									"parameters": {
										"instance-variable": "playerId",
										"comparison": 0,
										"value": "sourcePlayerId"
									}
								}
							],
							"actions": [],
							"sid": 751287020611775,
							"children": [
								{
									"eventType": "comment",
									"text": "If player is not sleeping..."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-timer-running",
											"objectClass": "Player",
											"sid": 705658692930699,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "TIMER_Player_Sleep"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 871608826524591,
									"children": [
										{
											"eventType": "comment",
											"text": "If player is not aiming, reveal current tile if possible"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Player",
													"sid": 735967356260742,
													"parameters": {
														"instance-variable": "IN_Aim",
														"comparison": 0,
														"value": "NO"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "Player",
													"sid": 631850087744372,
													"parameters": {
														"instance-variable": "carryingBoxUID",
														"comparison": 0,
														"value": "NOTHING"
													}
												}
											],
											"actions": [],
											"sid": 436067713460666,
											"children": [
												{
													"eventType": "comment",
													"text": "If player is not waiting for tiles closing"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-timer-running",
															"objectClass": "Player",
															"sid": 563853156393935,
															"behaviorType": "Timer",
															"parameters": {
																"tag": "TIMER_Tile_Close"
															},
															"isInverted": true
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "Player",
															"sid": 214049658022894,
															"parameters": {
																"instance-variable": "health",
																"comparison": 4,
																"value": "0"
															}
														}
													],
													"actions": [],
													"sid": 538446156630335,
													"children": [
														{
															"eventType": "comment",
															"text": "Open new tile"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-animation-playing",
																	"objectClass": "Tile",
																	"sid": 303165590843667,
																	"parameters": {
																		"animation": "ANIM_Closed"
																	}
																},
																{
																	"id": "compare-instance-variable",
																	"objectClass": "Tile",
																	"sid": 456217366862965,
																	"parameters": {
																		"instance-variable": "playerId",
																		"comparison": 0,
																		"value": "NOTHING"
																	}
																},
																{
																	"id": "pick-overlapping-point",
																	"objectClass": "System",
																	"sid": 326060363881369,
																	"parameters": {
																		"object": "Tile",
																		"x": "Player.X",
																		"y": "Player.Y"
																	}
																},
																{
																	"id": "pick-nearestfurthest",
																	"objectClass": "Tile",
																	"sid": 601868817785289,
																	"parameters": {
																		"which": "nearest",
																		"x": "Player.X",
																		"y": "Player.Y"
																	}
																}
															],
															"actions": [],
															"sid": 867464333336554,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "Player",
																			"sid": 842163916708639,
																			"parameters": {
																				"instance-variable": "tileUID1",
																				"comparison": 0,
																				"value": "NOTHING"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "Player",
																			"sid": 450420988002029,
																			"parameters": {
																				"instance-variable": "tileUID1",
																				"value": "Tile.UID"
																			}
																		},
																		{
																			"customAction": "open",
																			"objectClass": "Tile",
																			"customActionObjectClass": "fTile",
																			"sid": 864141373142790,
																			"parameters": [
																				"Player.playerId"
																			]
																		}
																	],
																	"sid": 867562293618011
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 919578309105265
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "Player",
																			"sid": 562635961554428,
																			"parameters": {
																				"instance-variable": "tileUID2",
																				"comparison": 0,
																				"value": "NOTHING"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "Player",
																			"sid": 722159273979407,
																			"parameters": {
																				"instance-variable": "tileUID2",
																				"value": "Tile.UID"
																			}
																		},
																		{
																			"customAction": "open",
																			"objectClass": "Tile",
																			"customActionObjectClass": "fTile",
																			"sid": 212289015211770,
																			"parameters": [
																				"Player.playerId"
																			]
																		}
																	],
																	"sid": 785367350873188
																}
															]
														},
														{
															"eventType": "comment",
															"text": "If player has two tiles open, check them for matches"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "Player",
																	"sid": 140768531575764,
																	"parameters": {
																		"instance-variable": "tileUID1",
																		"comparison": 1,
																		"value": "NOTHING"
																	}
																},
																{
																	"id": "compare-instance-variable",
																	"objectClass": "Player",
																	"sid": 262682020127078,
																	"parameters": {
																		"instance-variable": "tileUID2",
																		"comparison": 1,
																		"value": "NOTHING"
																	}
																}
															],
															"actions": [
																{
																	"customAction": "checkTiles",
																	"objectClass": "Player",
																	"sid": 881010015914754
																}
															],
															"sid": 475121668932377
														}
													]
												}
											],
											"isOrBlock": true
										},
										{
											"eventType": "comment",
											"text": "If player is aiming, throw box"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 848115284840336
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "Player",
													"sid": 696917673239153,
													"parameters": {
														"instance-variable": "carryingBoxUID",
														"comparison": 1,
														"value": "NOTHING"
													}
												}
											],
											"actions": [
												{
													"customAction": "throwItem",
													"objectClass": "Player",
													"sid": 988977524724447
												}
											],
											"sid": 543953587549646
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "If player is not in the game yet, spawn them"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 203965722346315
								}
							],
							"actions": [],
							"sid": 247675588809668,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 122132850489882,
											"parameters": {
												"object": "Player"
											}
										}
									],
									"actions": [],
									"sid": 425566961114310
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 834201085330211
										}
									],
									"actions": [
										{
											"callFunction": "startLevel",
											"sid": 464613185314102
										}
									],
									"sid": 174460840525440
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"customAction": "spawn",
											"objectClass": "Player",
											"sid": 560342928416555,
											"parameters": [
												"sourcePlayerId"
											]
										}
									],
									"sid": 457716652070211
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Box stuff"
		},
		{
			"aceType": "action",
			"aceName": "pickupItem",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": true,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 395760252284608,
			"children": [
				{
					"eventType": "comment",
					"text": "If item is a shield, activate it immediately"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Item",
							"sid": 548848027523916,
							"parameters": {
								"instance-variable": "itemType",
								"comparison": 0,
								"value": "IT_Shield"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Item",
							"sid": 351082132189473
						},
						{
							"customAction": "startEffect",
							"objectClass": "Player",
							"sid": 175028841820969,
							"parameters": [
								"IT_Shield"
							]
						}
					],
					"sid": 711026115490891
				},
				{
					"eventType": "comment",
					"text": "Otherwise, carry item"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 857648852216715
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 425895248063561,
							"parameters": {
								"instance-variable": "carryingBoxUID",
								"value": "Item.UID"
							}
						},
						{
							"id": "add-child",
							"objectClass": "Player",
							"sid": 415504876138126,
							"parameters": {
								"child": "Item",
								"transform-x": false,
								"transform-y": false,
								"transform-w": false,
								"transform-h": false,
								"transform-a": false,
								"transform-o": false,
								"transform-z-elevation": false,
								"transform-visibility": false,
								"destroy-with-parent": true
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Item",
							"sid": 395666864956450,
							"parameters": {
								"instance-variable": "lastCarrierPlayerUID",
								"value": "Player.UID"
							}
						},
						{
							"callFunction": "playSound",
							"sid": 104532709324616,
							"parameters": [
								"SFX_Player_Box_Pickup",
								"1",
								"0"
							]
						}
					],
					"sid": 504734074582892
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "throwItem",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 719648725278038,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 206228324575013,
							"parameters": {
								"child": "Item",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"callFunction": "playSoundAt",
							"sid": 637153857120686,
							"parameters": [
								"Cannon.X",
								"Cannon.Y",
								"SFX_Player_Box_Throw",
								"4",
								"NO"
							]
						},
						{
							"id": "remove-child",
							"objectClass": "Player",
							"sid": 127068041341763,
							"parameters": {
								"child": "Item"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 171439620220022,
							"parameters": {
								"instance-variable": "carryingBoxUID",
								"value": "NOTHING"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Item",
							"sid": 168917985229047,
							"behaviorType": "Bullet",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "Item",
							"sid": 323776512434456,
							"behaviorType": "Bullet",
							"parameters": {
								"speed": "Player.R_Box_MovementSpeed"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "Item",
							"sid": 594154447449644,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "Self.R_OverlapCheckTIme",
								"type": "regular",
								"tag": "TIMER_Box_FarCheck"
							}
						}
					],
					"sid": 364475465270101
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "dropItem",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 710168992571907,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 918615409885672,
							"parameters": {
								"child": "Item",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "remove-from-parent",
							"objectClass": "Item",
							"sid": 467752770123523
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Item",
							"sid": 962843406088085,
							"parameters": {
								"instance-variable": "lastCarrierPlayerUID",
								"value": "NOTHING"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Item",
							"sid": 984867020818451,
							"parameters": {
								"instance-variable": "targetPlayerUID",
								"value": "NOTHING"
							}
						}
					],
					"sid": 228385467253041
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Tile stuff"
		},
		{
			"aceType": "action",
			"aceName": "checkTiles",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 652761628873981,
			"children": [
				{
					"eventType": "variable",
					"name": "healAmount",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 517200534884052
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Tile",
							"sid": 593429071878571,
							"parameters": {
								"unique-id": "Player.tileUID1"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "fTile",
							"sid": 983620038330125,
							"parameters": {
								"unique-id": "Player.tileUID2"
							}
						}
					],
					"actions": [],
					"sid": 742144660105788,
					"children": [
						{
							"eventType": "comment",
							"text": "If symbols match..."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Tile",
									"sid": 467235990685646,
									"parameters": {
										"instance-variable": "symbol",
										"comparison": 0,
										"value": "fTile.symbol"
									}
								}
							],
							"actions": [
								{
									"customAction": "remove",
									"objectClass": "Tile",
									"customActionObjectClass": "fTile",
									"sid": 199815627977266
								},
								{
									"customAction": "remove",
									"objectClass": "fTile",
									"sid": 705330117688820
								},
								{
									"id": "add-to-instvar",
									"objectClass": "Player",
									"sid": 905719370899026,
									"parameters": {
										"instance-variable": "pairsFound",
										"value": "1"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 105439399465929,
									"parameters": {
										"variable": "pairsFound",
										"value": "1"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 702103901844003,
									"parameters": {
										"variable": "healAmount",
										"value": "Player.R_Health_BonusOnPair"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 750347857802633,
									"parameters": {
										"instance-variable": "tileUID1",
										"value": "NOTHING"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 148957599118805,
									"parameters": {
										"instance-variable": "tileUID2",
										"value": "NOTHING"
									}
								}
							],
							"sid": 331913504050552,
							"children": [
								{
									"eventType": "comment",
									"text": "If symbol is an item..."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 192010513132901,
											"parameters": {
												"object": "Tile",
												"expression": "int(Tile.symbol)",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 680551157009061,
									"children": [
										{
											"eventType": "comment",
											"text": "If item is health, heal immediately"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Tile",
													"sid": 815345701243545,
													"parameters": {
														"instance-variable": "symbol",
														"comparison": 0,
														"value": "IT_Health"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 517983607065842,
													"parameters": {
														"variable": "healAmount",
														"value": "Player.R_Health_BonusOnHeal"
													}
												}
											],
											"sid": 715509362391144
										},
										{
											"eventType": "comment",
											"text": "Otherwise pick up item"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 579842598767855
												}
											],
											"actions": [
												{
													"customAction": "spawn",
													"objectClass": "Item",
													"sid": 390936716904970,
													"parameters": [
														"fTile.X",
														"fTile.Y",
														"fTile.symbol"
													]
												},
												{
													"callFunction": "playSoundAt",
													"sid": 785792667888651,
													"parameters": [
														"fTile.X",
														"fTile.Y",
														"SFX_Player_Pair_Item",
														"4",
														"NO"
													]
												}
											],
											"sid": 458766444359342
										}
									]
								},
								{
									"eventType": "comment",
									"text": "If symbol is not an item..."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 221297847586570
										}
									],
									"actions": [
										{
											"callFunction": "playSoundAt",
											"sid": 693100409288379,
											"parameters": [
												"fTile.X",
												"fTile.Y",
												"SFX_Player_Pair_Symbol",
												"4",
												"NO"
											]
										}
									],
									"sid": 409286047168312
								},
								{
									"eventType": "comment",
									"text": "Check win condition"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 415779806278498,
											"parameters": {
												"variable": "pairsFound",
												"comparison": 5,
												"value": "pairsTotal"
											}
										}
									],
									"actions": [
										{
											"id": "start-timer",
											"objectClass": "GlobalTimer",
											"sid": 615572165023250,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "2",
												"type": "once",
												"tag": "TIMER_Level_End"
											}
										}
									],
									"sid": 695205783575005
								}
							]
						},
						{
							"eventType": "comment",
							"text": "If symbols don't match, start close timer"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 492198735328478
								}
							],
							"actions": [
								{
									"id": "start-timer",
									"objectClass": "Player",
									"sid": 504646049316520,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "R_Level_Tile_Reveal_Time",
										"type": "once",
										"tag": "TIMER_Tile_Close"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "Tile",
									"sid": 396259917630243,
									"disabled": true,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "R_Level_Tile_Reveal_Time",
										"type": "once",
										"tag": "TIMER_Tile_Close"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "fTile",
									"sid": 576396369018676,
									"disabled": true,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "R_Level_Tile_Reveal_Time",
										"type": "once",
										"tag": "TIMER_Tile_Close"
									}
								}
							],
							"sid": 536670383641855
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 371571134750086,
							"parameters": {
								"variable": "healAmount",
								"comparison": 1,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"customAction": "changeHealth",
							"objectClass": "Player",
							"sid": 407161638508778,
							"parameters": [
								"healAmount",
								"YES",
								"YES"
							]
						}
					],
					"sid": 341926860040998
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "closeTiles",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 169227278591106,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Tile",
							"sid": 206213680717430,
							"parameters": {
								"unique-id": "Player.tileUID1"
							}
						}
					],
					"actions": [
						{
							"customAction": "close",
							"objectClass": "Tile",
							"customActionObjectClass": "fTile",
							"sid": 200594529368379
						}
					],
					"sid": 244074729132260
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Tile",
							"sid": 724684145430095,
							"parameters": {
								"unique-id": "Player.tileUID2"
							}
						}
					],
					"actions": [
						{
							"customAction": "close",
							"objectClass": "Tile",
							"customActionObjectClass": "fTile",
							"sid": 192199852485580
						}
					],
					"sid": 885137069108072
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 187885169977645,
							"parameters": {
								"instance-variable": "tileUID1",
								"value": "NOTHING"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 510125189165639,
							"parameters": {
								"instance-variable": "tileUID2",
								"value": "NOTHING"
							}
						}
					],
					"sid": 249653070959543
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Other stuff"
		},
		{
			"aceType": "action",
			"aceName": "changeHealth",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "amount",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 788125484134714
				},
				{
					"name": "withVisual",
					"type": "number",
					"initialValue": "1",
					"comment": "",
					"sid": 475508187527007
				},
				{
					"name": "withAudio",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 565011835886277
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 679599495384132,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 997386479264315,
							"parameters": {
								"instance-variable": "isDead",
								"comparison": 0,
								"value": "NO"
							}
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 430648308777195,
							"parameters": {
								"variable": "amount",
								"comparison": 1,
								"value": "0"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 462083242804137,
							"parameters": {
								"child": "bbPlayer",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 494911016395833,
							"parameters": {
								"instance-variable": "health",
								"value": "max(Self.health + amount, 0)"
							}
						}
					],
					"sid": 100739081188628,
					"children": [
						{
							"eventType": "comment",
							"text": "If player is out of health, kill them"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 416916863303288,
									"parameters": {
										"instance-variable": "health",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"callFunction": "playSoundAt",
									"sid": 856046614559317,
									"parameters": [
										"Player.X",
										"Player.Y",
										"SFX_Player_Dead",
										"1",
										"NO"
									]
								},
								{
									"id": "stop-all-timers",
									"objectClass": "Player",
									"sid": 544571309419146,
									"behaviorType": "Timer"
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 656132188262378,
									"parameters": {
										"type": "log",
										"message": "\"Player \" & Player.playerId & \" ran out of time.\""
									}
								},
								{
									"customAction": "updateAnimation",
									"objectClass": "Player",
									"sid": 244425633916456,
									"disabled": true,
									"parameters": [
										"ANIM_Dead"
									]
								},
								{
									"id": "set-enabled",
									"objectClass": "Player",
									"sid": 333772378347661,
									"behaviorType": "8Direction",
									"parameters": {
										"state": "disabled"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "Player",
									"sid": 462649183377368,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 391459641101377,
									"parameters": {
										"instance-variable": "isDead",
										"value": "YES"
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "bbPlayer",
									"sid": 835606367600556
								},
								{
									"id": "set-enabled",
									"objectClass": "Player",
									"sid": 195330008784308,
									"behaviorType": "Solid",
									"parameters": {
										"state": "enabled"
									}
								},
								{
									"id": "set-effect-enabled",
									"objectClass": "bbPlayer",
									"sid": 622867666716658,
									"parameters": {
										"mode": "enable",
										"effect": "EFFECT_bbPlayer_Brightness"
									}
								},
								{
									"id": "tween-value",
									"objectClass": "bbPlayer",
									"sid": 649509933546590,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "EFFECT_bbPlayer_Brightness",
										"start-value": "100",
										"end-value": "Self.deadEffect_Brightness",
										"time": "2",
										"ease": "easeoutquad",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "set-effect-enabled",
									"objectClass": "bbPlayer",
									"sid": 912843252273703,
									"parameters": {
										"mode": "enable",
										"effect": "EFFECT_bbPlayer_Grayscale"
									}
								},
								{
									"id": "tween-value",
									"objectClass": "bbPlayer",
									"sid": 631379625887428,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "EFFECT_bbPlayer_Grayscale",
										"start-value": "0",
										"end-value": "Self.deadEffectGrayscale",
										"time": "2",
										"ease": "easeoutquad",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"customAction": "stopEffect",
									"objectClass": "Player",
									"sid": 536223289030675,
									"parameters": [
										"IT_Slow"
									]
								},
								{
									"customAction": "dropItem",
									"objectClass": "Player",
									"sid": 488875189295671
								},
								{
									"customAction": "closeTiles",
									"objectClass": "Player",
									"sid": 567233146528589
								}
							],
							"sid": 415999299938242,
							"children": [
								{
									"eventType": "comment",
									"text": "Close tiles opened by player"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Tile",
											"sid": 299787830822094,
											"parameters": {
												"instance-variable": "playerId",
												"comparison": 0,
												"value": "Player.playerId"
											}
										}
									],
									"actions": [
										{
											"customAction": "close",
											"objectClass": "Tile",
											"customActionObjectClass": "fTile",
											"sid": 645426339561807
										}
									],
									"sid": 524835867595784
								},
								{
									"eventType": "comment",
									"text": "Remove box from player (so it can be picked up by others)"
								},
								{
									"eventType": "comment",
									"text": "Check if there are any other non-dead players"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 717715543761903,
											"parameters": {
												"object": "Player"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 229826902980081,
											"parameters": {
												"instance-variable": "isDead",
												"comparison": 0,
												"value": "NO"
											}
										}
									],
									"actions": [],
									"sid": 608650389134550,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 576333507374980,
													"parameters": {
														"variable": "playerCount",
														"comparison": 4,
														"value": "1"
													}
												},
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 317140335031940,
													"parameters": {
														"object": "Player",
														"expression": "Player.PickedCount",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "start-timer",
													"objectClass": "GlobalTimer",
													"sid": 717804894968199,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "2",
														"type": "once",
														"tag": "TIMER_Level_End"
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 247085531607276,
													"parameters": {
														"type": "log",
														"message": "\"Multiplayer last man standing\""
													}
												}
											],
											"sid": 463349754843508
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 196142279555072
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "todo end screen tween / better visual"
										},
										{
											"id": "start-timer",
											"objectClass": "GlobalTimer",
											"sid": 881069296924578,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "2",
												"type": "once",
												"tag": "TIMER_Level_End"
											}
										}
									],
									"sid": 278480393535518
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Otherwise, heal / damage"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 523770926375521
								}
							],
							"actions": [],
							"sid": 271648815404425,
							"children": [
								{
									"eventType": "comment",
									"text": "Heal effects"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 710652612539852,
											"parameters": {
												"variable": "amount",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 394468162396868,
											"disabled": true,
											"parameters": {
												"type": "log",
												"message": "\"Player healing: \" & amount"
											}
										}
									],
									"sid": 699634497553844,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 108217085736774,
													"parameters": {
														"variable": "withVisual",
														"comparison": 0,
														"value": "YES"
													}
												}
											],
											"actions": [
												{
													"customAction": "spawnBlurb",
													"objectClass": "Player",
													"customActionObjectClass": "fBlurbSpawners",
													"sid": 361555141627767,
													"parameters": [
														"\"+\" & roundToDp(amount, 1) & \" HP\"",
														"Self.R_Blurb_ZOffset_Normal",
														"rgbEx(0, 100, 0)",
														"0.8"
													]
												}
											],
											"sid": 898300867443071
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 120312886880933,
													"parameters": {
														"variable": "withAudio",
														"comparison": 0,
														"value": "YES"
													}
												}
											],
											"actions": [],
											"sid": 828829026669812,
											"children": [
												{
													"eventType": "comment",
													"text": "Big heal SFX"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 219402433516892,
															"parameters": {
																"variable": "amount",
																"comparison": 4,
																"value": "Player.R_Health_BonusOnPair"
															}
														}
													],
													"actions": [
														{
															"callFunction": "playSoundAt",
															"sid": 190488551052471,
															"parameters": [
																"Player.X",
																"Player.Y",
																"SFX_Player_Healing_Big",
																"4",
																"NO"
															]
														}
													],
													"sid": 730942515776635
												},
												{
													"eventType": "comment",
													"text": "Small heal SFX"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 405890453017118
														}
													],
													"actions": [
														{
															"callFunction": "playSoundAt",
															"sid": 216825904674285,
															"parameters": [
																"Player.X",
																"Player.Y",
																"SFX_Player_Healing_Small",
																"4",
																"NO"
															]
														}
													],
													"sid": 613701513345718
												}
											]
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Damage effects & start invincibility"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 848057074496057
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 492239580407641,
											"parameters": {
												"variable": "amount",
												"comparison": 2,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 787231110362930,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 822790930667943,
													"parameters": {
														"variable": "withVisual",
														"comparison": 0,
														"value": "YES"
													}
												}
											],
											"actions": [
												{
													"id": "tween-value",
													"objectClass": "bbPlayer",
													"sid": 348152996357335,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "TWEEN_Player_Hurt",
														"start-value": "400",
														"end-value": "0",
														"time": "0.5",
														"ease": "easeoutcubic",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												},
												{
													"customAction": "spawnBlurb",
													"objectClass": "Player",
													"customActionObjectClass": "fBlurbSpawners",
													"sid": 787188787224703,
													"parameters": [
														"str(roundToDp(amount, 1)) & \" HP\"",
														"Self.R_Blurb_ZOffset_Normal",
														"rgbEx(100, 0, 0)",
														"0.8"
													]
												}
											],
											"sid": 383738985671081
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 807254491162532,
													"parameters": {
														"variable": "withAudio",
														"comparison": 0,
														"value": "YES"
													}
												}
											],
											"actions": [
												{
													"callFunction": "playSoundAt",
													"sid": 204390567313330,
													"parameters": [
														"Player.X",
														"Player.Y",
														"SFX_Player_Damaged",
														"4",
														"NO"
													]
												}
											],
											"sid": 614700014238128
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "startEffect",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "itemType",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 458212392066247
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 125086337551078,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 513824044455216,
							"parameters": {
								"variable": "itemType",
								"comparison": 0,
								"value": "IT_Sleep"
							}
						}
					],
					"actions": [
						{
							"callFunction": "playSoundAt",
							"sid": 271734195145716,
							"parameters": [
								"Player.X",
								"Player.Y",
								"SFX_Player_Sleeping",
								"1",
								"NO"
							]
						},
						{
							"id": "start-timer",
							"objectClass": "Player",
							"sid": 487840665438905,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "Functions.Config_getNumber(PARAM_Item_Sleep_Time)",
								"type": "once",
								"tag": "TIMER_Player_Sleep"
							}
						},
						{
							"customAction": "updateAnimation",
							"objectClass": "Player",
							"sid": 574620748116242,
							"parameters": [
								"ANIM_Sleeping"
							]
						},
						{
							"customAction": "dropItem",
							"objectClass": "Player",
							"sid": 541010517275494
						},
						{
							"id": "start-timer",
							"objectClass": "Player",
							"sid": 586830896901758,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "0.1",
								"type": "once",
								"tag": "TIMER_Player_Sleep_Blurb"
							}
						}
					],
					"sid": 242113141302686
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 323094733363609,
							"parameters": {
								"variable": "itemType",
								"comparison": 0,
								"value": "IT_Slow"
							}
						}
					],
					"actions": [
						{
							"callFunction": "playSoundAt",
							"sid": 783468937313124,
							"parameters": [
								"Player.X",
								"Player.Y",
								"SFX_Player_Slowing",
								"1",
								"NO"
							]
						},
						{
							"id": "start-timer",
							"objectClass": "Player",
							"sid": 182757126736893,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "Functions.Config_getNumber(PARAM_Item_Slow_Time)",
								"type": "once",
								"tag": "TIMER_Player_Slow"
							}
						},
						{
							"customAction": "stopEffect",
							"objectClass": "Player",
							"sid": 371459249541492,
							"parameters": [
								"IT_Slow"
							]
						}
					],
					"sid": 650699818577864,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "Player",
									"sid": 760134916024210,
									"parameters": {
										"object": "Particles",
										"layer": "LAYER_Billboards",
										"image-point": "0",
										"create-hierarchy": false,
										"template-name": "IT_Slow"
									}
								},
								{
									"id": "add-child",
									"objectClass": "Player",
									"sid": 154609494094139,
									"parameters": {
										"child": "Particles",
										"transform-x": true,
										"transform-y": true,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-o": false,
										"transform-z-elevation": false,
										"transform-visibility": false,
										"destroy-with-parent": false
									}
								}
							],
							"sid": 677930493949892
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 671689814878295,
							"parameters": {
								"variable": "itemType",
								"comparison": 0,
								"value": "IT_Shield"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "todo proper visuals"
						},
						{
							"id": "start-timer",
							"objectClass": "Player",
							"sid": 184913873382235,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "Functions.Config_getNumber(PARAM_Item_Shield_Time)",
								"type": "once",
								"tag": "TIMER_Player_Shield"
							}
						}
					],
					"sid": 782411368643358,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Player",
									"sid": 757313966158226,
									"parameters": {
										"child": "bbPlayer",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "set-opacity",
									"objectClass": "bbPlayer",
									"sid": 100936660964197,
									"parameters": {
										"opacity": "40"
									}
								}
							],
							"sid": 662831899164036
						}
					]
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "stopEffect",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "itemType",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 844941604477456
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 310597528991255,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 913705566466042,
							"parameters": {
								"variable": "itemType",
								"comparison": 0,
								"value": "IT_Slow"
							}
						}
					],
					"actions": [],
					"sid": 933374685221176,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Player",
									"sid": 575784273237517,
									"parameters": {
										"child": "Particles",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "set-rate",
									"objectClass": "Particles",
									"sid": 642395338870302,
									"parameters": {
										"rate": "0"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "Particles",
									"sid": 686998409429202,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "Particles.Timeout",
										"type": "once",
										"tag": "TIMER_Particles_Destroy"
									}
								}
							],
							"sid": 820694317166512
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 332495019670651,
							"parameters": {
								"variable": "itemType",
								"comparison": 0,
								"value": "IT_Shield"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "todo proper visuals"
						}
					],
					"sid": 891978949658460,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Player",
									"sid": 176390794245374,
									"parameters": {
										"child": "bbPlayer",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "set-opacity",
									"objectClass": "bbPlayer",
									"sid": 529543506893888,
									"parameters": {
										"opacity": "100"
									}
								}
							],
							"sid": 425525461991079
						}
					]
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "updateAnimation",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "animationName",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 961442772629077
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 590559724811412,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 895449563551729,
							"parameters": {
								"instance-variable": "isDead",
								"comparison": 0,
								"value": "NO"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 865024316998841,
							"parameters": {
								"child": "bbPlayer",
								"which": "own"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "bbPlayer",
							"sid": 797735980396482,
							"parameters": {
								"animation": "Self.playerId & \"_\" & animationName"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 122305314122008,
							"disabled": true,
							"parameters": {
								"type": "log",
								"message": "\"Setting animation of player #\" & Player.playerId & \" to \" & (Player.playerId & \"_\" & animationName)"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "bbPlayer",
							"sid": 700344016102452,
							"parameters": {
								"animation": "Self.playerId & \"_\" & animationName",
								"from": "beginning"
							}
						}
					],
					"sid": 437791455581839
				}
			]
		}
	],
	"sid": 183802187831019
}