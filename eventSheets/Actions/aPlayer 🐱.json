{
	"name": "aPlayer üê±",
	"events": [
		{
			"aceType": "action",
			"aceName": "init",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 904770510227589,
					"parameters": {
						"instance-variable": "health",
						"value": "Self.R_Health_Max"
					}
				}
			],
			"sid": 846445072912984
		},
		{
			"aceType": "action",
			"aceName": "tick",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "Player",
					"sid": 619872334908169,
					"parameters": {
						"instance-variable": "health",
						"comparison": 4,
						"value": "0"
					}
				}
			],
			"actions": [],
			"sid": 608725959345493,
			"children": [
				{
					"eventType": "variable",
					"name": "isMoving",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 138926402706374
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 242562529766213,
							"parameters": {
								"instance-variable": "IN_Up",
								"comparison": 0,
								"value": "YES"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 178232391183352,
							"parameters": {
								"instance-variable": "IN_Down",
								"comparison": 0,
								"value": "YES"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 598796771236870,
							"parameters": {
								"instance-variable": "IN_Left",
								"comparison": 0,
								"value": "YES"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 173161658096628,
							"parameters": {
								"instance-variable": "IN_Right",
								"comparison": 0,
								"value": "YES"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 786782230678205,
							"parameters": {
								"instance-variable": "movementAngle",
								"value": "angle(0, 0, Player.IN_Right - Player.IN_Left, Player.IN_Down - Player.IN_Up)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 728336416862700,
							"parameters": {
								"variable": "isMoving",
								"value": "YES"
							}
						}
					],
					"sid": 395302185597821,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 855050287440649,
							"parameters": {
								"instance-variable": "IN_Analog_Active",
								"comparison": 0,
								"value": "YES"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 344089742691932,
							"parameters": {
								"instance-variable": "movementAngle",
								"value": "Player.IN_Analog_Angle"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 740373587579883,
							"parameters": {
								"variable": "isMoving",
								"value": "YES"
							}
						}
					],
					"sid": 244628205038769
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 142058436858729,
							"parameters": {
								"variable": "isMoving",
								"comparison": 0,
								"value": "YES"
							}
						}
					],
					"actions": [
						{
							"id": "set-vector-x",
							"objectClass": "Player",
							"sid": 473178054054938,
							"behaviorType": "8Direction",
							"parameters": {
								"vector-x": "cos(Player.movementAngle) * Player.8Direction.MaxSpeed"
							}
						},
						{
							"id": "set-vector-y",
							"objectClass": "Player",
							"sid": 346102417760646,
							"behaviorType": "8Direction",
							"parameters": {
								"vector-y": "sin(Player.movementAngle) * Player.8Direction.MaxSpeed"
							}
						},
						{
							"id": "set-vector-x",
							"objectClass": "Player",
							"sid": 679425261140278,
							"disabled": true,
							"behaviorType": "8Direction",
							"parameters": {
								"vector-x": "(Player.IN_Right - Player.IN_Left) * Player.8Direction.MaxSpeed"
							}
						},
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 949427824524311,
							"parameters": {
								"type": "log",
								"message": "\"Player speed: \" & Player.8Direction.Speed"
							}
						},
						{
							"id": "set-vector-y",
							"objectClass": "Player",
							"sid": 450900568883784,
							"disabled": true,
							"behaviorType": "8Direction",
							"parameters": {
								"vector-y": "(Player.IN_Down - Player.IN_Up) * Player.8Direction.MaxSpeed"
							}
						}
					],
					"sid": 313492083944264,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-between-angles",
									"objectClass": "System",
									"sid": 645798823055220,
									"parameters": {
										"angle": "Player.movementAngle",
										"first-angle": "-60",
										"second-angle": "60"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 505343949303823,
									"parameters": {
										"animation": "Self.playerId & \"_\" & ANIM_Right",
										"from": "beginning"
									}
								}
							],
							"sid": 696824991157328
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 336886327308651
								},
								{
									"id": "is-between-angles",
									"objectClass": "System",
									"sid": 647528264089517,
									"parameters": {
										"angle": "Player.movementAngle",
										"first-angle": "180-60",
										"second-angle": "180+60"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 220931129724376,
									"parameters": {
										"animation": "Self.playerId & \"_\" & ANIM_Left",
										"from": "beginning"
									}
								}
							],
							"sid": 901949765147699
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 424872040408031
								},
								{
									"id": "is-between-angles",
									"objectClass": "System",
									"sid": 468925842722970,
									"parameters": {
										"angle": "Player.movementAngle",
										"first-angle": "270-30",
										"second-angle": "270+30"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 313874956475854,
									"parameters": {
										"animation": "Self.playerId & \"_\" & ANIM_Up",
										"from": "beginning"
									}
								}
							],
							"sid": 508015867718480
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 527774320267515
								},
								{
									"id": "is-between-angles",
									"objectClass": "System",
									"sid": 252556433645199,
									"parameters": {
										"angle": "Player.movementAngle",
										"first-angle": "90-30",
										"second-angle": "90+30"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 136447610188411,
									"parameters": {
										"animation": "Self.playerId & \"_\" & ANIM_Down",
										"from": "beginning"
									}
								}
							],
							"sid": 922620103052100
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 975347701768691
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Player",
							"sid": 392817023953781,
							"parameters": {
								"animation": "Self.playerId & \"_\" & ANIM_Idle",
								"from": "beginning"
							}
						},
						{
							"id": "stop",
							"objectClass": "Player",
							"sid": 371864621398910,
							"behaviorType": "8Direction"
						}
					],
					"sid": 987994243463132
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "onAction",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "playerId",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 259019913465708
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 234693284807956,
			"children": [
				{
					"eventType": "comment",
					"text": "If player is already in the game..."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 928432311911478,
							"parameters": {
								"instance-variable": "playerId",
								"comparison": 0,
								"value": "playerId"
							}
						}
					],
					"actions": [],
					"sid": 504967874491718,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-timer-running",
									"objectClass": "Player",
									"sid": 106966330727118,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "TIMER_TileReveal"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 966738216850185,
									"parameters": {
										"instance-variable": "health",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [],
							"sid": 966175049562226,
							"children": [
								{
									"eventType": "comment",
									"text": "Open new tile"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Tile",
											"sid": 490875583598473,
											"parameters": {
												"animation": "ANIM_Closed"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Tile",
											"sid": 235202388388662,
											"parameters": {
												"instance-variable": "playerId",
												"comparison": 0,
												"value": "NOTHING"
											}
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Tile",
											"sid": 238605637198304,
											"disabled": true,
											"parameters": {
												"object": "Player"
											}
										},
										{
											"id": "pick-overlapping-point",
											"objectClass": "System",
											"sid": 928453465777006,
											"parameters": {
												"object": "Tile",
												"x": "Player.X",
												"y": "Player.Y"
											}
										},
										{
											"id": "pick-nearestfurthest",
											"objectClass": "Tile",
											"sid": 645007002645906,
											"parameters": {
												"which": "nearest",
												"x": "Player.X",
												"y": "Player.Y"
											}
										}
									],
									"actions": [],
									"sid": 184320911415308,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Player",
													"sid": 142074752694222,
													"parameters": {
														"instance-variable": "tileUID1",
														"comparison": 0,
														"value": "NOTHING"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "Player",
													"sid": 470777347295737,
													"parameters": {
														"instance-variable": "tileUID1",
														"value": "Tile.UID"
													}
												},
												{
													"customAction": "open",
													"objectClass": "Tile",
													"customActionObjectClass": "fTile",
													"sid": 386448218969553,
													"parameters": [
														"Player.playerId"
													]
												}
											],
											"sid": 281655125209279
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 637508376541953
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "Player",
													"sid": 703100870447661,
													"parameters": {
														"instance-variable": "tileUID2",
														"comparison": 0,
														"value": "NOTHING"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "Player",
													"sid": 215755207546473,
													"parameters": {
														"instance-variable": "tileUID2",
														"value": "Tile.UID"
													}
												},
												{
													"customAction": "open",
													"objectClass": "Tile",
													"customActionObjectClass": "fTile",
													"sid": 316512366976906,
													"parameters": [
														"Player.playerId"
													]
												}
											],
											"sid": 194604687258205
										}
									]
								},
								{
									"eventType": "comment",
									"text": "If player has two tiles open, start reveal timer"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 504015410000600,
											"parameters": {
												"instance-variable": "tileUID1",
												"comparison": 1,
												"value": "NOTHING"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 806093603903537,
											"parameters": {
												"instance-variable": "tileUID2",
												"comparison": 1,
												"value": "NOTHING"
											}
										}
									],
									"actions": [
										{
											"id": "start-timer",
											"objectClass": "Player",
											"sid": 890147689037123,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "C_Tile_Reveal_Time",
												"type": "once",
												"tag": "TIMER_TileReveal"
											}
										}
									],
									"sid": 786983051909338
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "If player is not in the game yet, add them"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 970898995867014
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 893895012316782,
							"parameters": {
								"object-to-create": "Player",
								"layer": "LAYER_Player",
								"x": "LayoutWidth * 0.5",
								"y": "LayoutHeight * 0.5",
								"create-hierarchy": true,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 446678486413401,
							"parameters": {
								"instance-variable": "playerId",
								"value": "playerId"
							}
						},
						{
							"customAction": "init",
							"objectClass": "Player",
							"sid": 673430362258734
						}
					],
					"sid": 694653583056779
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "changeHealth",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "amount",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 788125484134714
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 876028868693683,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 846304961389483,
							"parameters": {
								"variable": "amount",
								"comparison": 2,
								"value": "0"
							}
						},
						{
							"id": "is-playing",
							"objectClass": "Player",
							"sid": 392088468576713,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "TWEEN_Player_Hurt"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 342649661845978,
							"parameters": {
								"instance-variable": "health",
								"value": "max(Self.health + amount, 0)"
							}
						}
					],
					"sid": 706340261330088,
					"children": [
						{
							"eventType": "comment",
							"text": "Player is dead"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 185321927678522,
									"parameters": {
										"instance-variable": "health",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "Player",
									"sid": 415002685152434,
									"disabled": true
								},
								{
									"id": "stop-timer",
									"objectClass": "Player",
									"sid": 329559520711098,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "TIMER_TileReveal"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Player",
									"sid": 208335688245775,
									"parameters": {
										"animation": "ANIM_Dead",
										"from": "beginning"
									}
								},
								{
									"id": "stop",
									"objectClass": "Player",
									"sid": 995810302385470,
									"behaviorType": "8Direction"
								}
							],
							"sid": 664925556645398,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Tile",
											"sid": 822431348687260,
											"parameters": {
												"instance-variable": "playerId",
												"comparison": 0,
												"value": "Player.playerId"
											}
										}
									],
									"actions": [
										{
											"customAction": "close",
											"objectClass": "Tile",
											"customActionObjectClass": "fTile",
											"sid": 450755068468671
										}
									],
									"sid": 192004587500581
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Player is hurt"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 574266611068341
								}
							],
							"actions": [
								{
									"id": "tween-value",
									"objectClass": "Player",
									"sid": 670393420459991,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "TWEEN_Player_Hurt",
										"start-value": "400",
										"end-value": "0",
										"time": "0.5",
										"ease": "easeoutcubic",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 168842299776406
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 187558782444200
						}
					],
					"actions": [],
					"sid": 179021471552351
				}
			]
		}
	],
	"sid": 183802187831019
}