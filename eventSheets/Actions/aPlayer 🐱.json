{
	"name": "aPlayer üê±",
	"events": [
		{
			"aceType": "action",
			"aceName": "init",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [
				{
					"type": "comment",
					"text": "Overrides"
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 862580686969775,
					"parameters": {
						"instance-variable": "R_Health_Start",
						"value": "Functions.Config_getNumber(PARAM_Player_Health)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 736395753579762,
					"parameters": {
						"instance-variable": "R_MovementSpeed_Normal",
						"value": "Functions.Config_getNumber(PARAM_Player_MovementSpeed)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 600287989783951,
					"parameters": {
						"instance-variable": "R_MovementSpeed_Slow",
						"value": "Functions.Config_getNumber(PARAM_Player_MovementSpeed_Slow)"
					}
				},
				{
					"type": "comment",
					"text": "Initialize "
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Player",
					"sid": 699716346394056,
					"parameters": {
						"instance-variable": "health",
						"value": "Self.R_Health_Start"
					}
				},
				{
					"id": "set-max-speed",
					"objectClass": "Player",
					"sid": 887079740760311,
					"behaviorType": "8Direction",
					"parameters": {
						"max-speed": "Self.R_MovementSpeed_Normal"
					}
				}
			],
			"sid": 846445072912984,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 492436812501198,
							"parameters": {
								"child": "bbPlayer",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "bbPlayer",
							"sid": 336314641302842,
							"parameters": {
								"instance-variable": "playerId",
								"value": "Player.playerId"
							}
						}
					],
					"sid": 713148674116131
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "tick",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 198587989691971,
					"parameters": {
						"variable": "hasLevelEnded",
						"comparison": 0,
						"value": "NO"
					}
				}
			],
			"actions": [],
			"sid": 608725959345493,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 826549898224005,
							"disabled": true,
							"parameters": {
								"instance-variable": "health",
								"comparison": 4,
								"value": "0"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 240124241017459,
							"parameters": {
								"instance-variable": "isDead",
								"comparison": 0,
								"value": "NO"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 971158995994895,
							"parameters": {
								"child": "bbPlayer",
								"which": "own"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "bbPlayer",
							"sid": 209411219838413,
							"disabled": true,
							"parameters": {
								"animation": "ANIM_Dead"
							},
							"isInverted": true
						},
						{
							"id": "is-timer-running",
							"objectClass": "Player",
							"sid": 793745068391165,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "TIMER_Player_Sleep"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 227269920621571,
					"children": [
						{
							"eventType": "variable",
							"name": "isAngleSet",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 847268099097138
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 672955118016930,
									"parameters": {
										"instance-variable": "IN_Up",
										"comparison": 0,
										"value": "YES"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 707411733038500,
									"parameters": {
										"instance-variable": "IN_Down",
										"comparison": 0,
										"value": "YES"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 550397794423386,
									"parameters": {
										"instance-variable": "IN_Left",
										"comparison": 0,
										"value": "YES"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 853497028825545,
									"parameters": {
										"instance-variable": "IN_Right",
										"comparison": 0,
										"value": "YES"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 294197435027106,
									"parameters": {
										"instance-variable": "currentAngle",
										"value": "angle(0, 0, Player.IN_Right - Player.IN_Left, Player.IN_Down - Player.IN_Up)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 416716572384766,
									"parameters": {
										"variable": "isAngleSet",
										"value": "YES"
									}
								}
							],
							"sid": 162458950693833,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 663226630921572,
									"parameters": {
										"instance-variable": "IN_Analog_Active",
										"comparison": 0,
										"value": "YES"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 463373374011831,
									"parameters": {
										"instance-variable": "currentAngle",
										"value": "Player.IN_Analog_Angle"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 260644348038174,
									"parameters": {
										"variable": "isAngleSet",
										"value": "YES"
									}
								}
							],
							"sid": 303557860261437
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 762106054222207,
									"parameters": {
										"variable": "isAngleSet",
										"comparison": 0,
										"value": "YES"
									}
								}
							],
							"actions": [],
							"sid": 139295342290383,
							"children": [
								{
									"eventType": "variable",
									"name": "movementSpeed",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 411889378951970
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 275226204554323,
											"parameters": {
												"variable": "movementSpeed",
												"value": "Player.boxUID = NOTHING ? Player.R_MovementSpeed_Normal : Player.R_MovementSpeed_Slow"
											}
										}
									],
									"sid": 501389870085249
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-timer-running",
											"objectClass": "Player",
											"sid": 712385379382034,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "TIMER_Player_Slow"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 874564765458371,
											"parameters": {
												"variable": "movementSpeed",
												"value": "movementSpeed * Functions.Config_getNumber(PARAM_Item_Slow_Factor)"
											}
										}
									],
									"sid": 624846891236573
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 976816320477846,
											"parameters": {
												"instance-variable": "boxUID",
												"comparison": 1,
												"value": "NOTHING"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 573415404448133,
											"parameters": {
												"instance-variable": "IN_Aiming",
												"comparison": 0,
												"value": "YES"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 944400654913004,
											"parameters": {
												"variable": "movementSpeed",
												"value": "0"
											}
										}
									],
									"sid": 898618923276718
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 480494782915338,
											"parameters": {
												"variable": "movementSpeed",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "stop",
											"objectClass": "Player",
											"sid": 578899809042025,
											"behaviorType": "8Direction"
										}
									],
									"sid": 472215867323356,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 581557522671983
										}
									],
									"actions": [
										{
											"customAction": "changeHealth",
											"objectClass": "Player",
											"sid": 905402753981820,
											"parameters": [
												"-dt",
												"NO"
											]
										},
										{
											"id": "set-vector-x",
											"objectClass": "Player",
											"sid": 288633457561355,
											"behaviorType": "8Direction",
											"parameters": {
												"vector-x": "cos(Player.currentAngle) * movementSpeed"
											}
										},
										{
											"id": "set-vector-y",
											"objectClass": "Player",
											"sid": 109657793964345,
											"behaviorType": "8Direction",
											"parameters": {
												"vector-y": "sin(Player.currentAngle) * movementSpeed"
											}
										}
									],
									"sid": 816096761717073
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "bbPlayer",
											"sid": 847538530210751,
											"disabled": true,
											"parameters": {
												"animation": "ANIM_Dead"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 441902546596457,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-between-angles",
													"objectClass": "System",
													"sid": 121663094787849,
													"parameters": {
														"angle": "Player.currentAngle",
														"first-angle": "-60",
														"second-angle": "60"
													}
												}
											],
											"actions": [
												{
													"customAction": "updateAnimation",
													"objectClass": "Player",
													"sid": 897983929342001,
													"parameters": [
														"ANIM_Right"
													]
												}
											],
											"sid": 291739462420396
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 699881764462020
												},
												{
													"id": "is-between-angles",
													"objectClass": "System",
													"sid": 287438159630183,
													"parameters": {
														"angle": "Player.currentAngle",
														"first-angle": "180-60",
														"second-angle": "180+60"
													}
												}
											],
											"actions": [
												{
													"customAction": "updateAnimation",
													"objectClass": "Player",
													"sid": 382041627701308,
													"parameters": [
														"ANIM_Left"
													]
												}
											],
											"sid": 325695957391072
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 103148803531239
												},
												{
													"id": "is-between-angles",
													"objectClass": "System",
													"sid": 810126793145227,
													"parameters": {
														"angle": "Player.currentAngle",
														"first-angle": "270-30",
														"second-angle": "270+30"
													}
												}
											],
											"actions": [
												{
													"customAction": "updateAnimation",
													"objectClass": "Player",
													"sid": 554875666301245,
													"parameters": [
														"ANIM_Up"
													]
												}
											],
											"sid": 984821317977437
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 319360326970227
												},
												{
													"id": "is-between-angles",
													"objectClass": "System",
													"sid": 536786166334724,
													"parameters": {
														"angle": "Player.currentAngle",
														"first-angle": "90-30",
														"second-angle": "90+30"
													}
												}
											],
											"actions": [
												{
													"customAction": "updateAnimation",
													"objectClass": "Player",
													"sid": 725079240456858,
													"parameters": [
														"ANIM_Down"
													]
												}
											],
											"sid": 932828700550949
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Player",
													"sid": 766420410254628,
													"parameters": {
														"instance-variable": "IN_Aiming",
														"comparison": 0,
														"value": "YES"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "Player",
													"sid": 339137788070597,
													"parameters": {
														"instance-variable": "boxUID",
														"comparison": 1,
														"value": "NOTHING"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-frame",
													"objectClass": "bbPlayer",
													"sid": 889407427007050,
													"parameters": {
														"frame-number": "FRAME_Standing"
													}
												}
											],
											"sid": 288993533767746
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Player",
													"sid": 919908435980146,
													"parameters": {
														"instance-variable": "boxUID",
														"comparison": 0,
														"value": "NOTHING"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-speed",
													"objectClass": "bbPlayer",
													"sid": 579579844035625,
													"parameters": {
														"speed": "C_Player_AnimationSpeed"
													}
												}
											],
											"sid": 525187392535540
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 482334798760011
												}
											],
											"actions": [
												{
													"id": "set-animation-speed",
													"objectClass": "bbPlayer",
													"sid": 799942570803695,
													"parameters": {
														"speed": "C_Player_AnimationSpeed * (Player.R_MovementSpeed_Slow / Player.R_MovementSpeed_Normal)"
													}
												}
											],
											"sid": 530733578311947
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-children",
											"objectClass": "Player",
											"sid": 868375331101131,
											"parameters": {
												"child": "Box",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "set-position",
											"objectClass": "Box",
											"sid": 496683099872486,
											"parameters": {
												"x": "Player.X + cos(anglelerp(angle(Player.X, Player.Y, Self.X, Self.Y), Player.currentAngle, 0.2)) * Player.R_Box_Distance",
												"y": "Player.Y + sin(anglelerp(angle(Player.X, Player.Y, Self.X, Self.Y), Player.currentAngle, 0.2)) * Player.R_Box_Distance"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "Box",
											"sid": 735323232597530,
											"parameters": {
												"angle": "anglelerp(Self.Angle, Player.currentAngle, 0.2)"
											}
										}
									],
									"sid": 734729667597014
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 405869790555299
								}
							],
							"actions": [
								{
									"id": "stop",
									"objectClass": "Player",
									"sid": 587004288969840,
									"behaviorType": "8Direction"
								},
								{
									"customAction": "updateAnimation",
									"objectClass": "Player",
									"sid": 205876716614022,
									"parameters": [
										"ANIM_Idle"
									]
								}
							],
							"sid": 712603625655763
						}
					]
				},
				{
					"eventType": "comment",
					"text": "todo_optimize updates"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "UI_TextSF",
							"sid": 111873243429299,
							"parameters": {
								"instance-variable": "role",
								"comparison": 0,
								"value": "ROLE_PlayerHealth"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "UI_TextSF",
							"sid": 604505681204781,
							"parameters": {
								"instance-variable": "paramNumber",
								"comparison": 0,
								"value": "Player.playerId"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "UI_TextSF",
							"sid": 599875192231666,
							"parameters": {
								"text": "\"[color=#\" & trim(tokenat(C_CSV_ColorsHex, Player.playerId, \",\")) & \"][scale=0.25]Health[/scale]\" & newline & Functions.roundToDpPad(Player.health, 1)"
							}
						}
					],
					"sid": 946005948685164
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "spawn",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "sourcePlayerId",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 239190733849133
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 687433810899252,
					"parameters": {
						"variable": "hasLevelEnded",
						"comparison": 0,
						"value": "NO"
					}
				}
			],
			"actions": [],
			"sid": 773717553376150,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 950569274520008,
							"parameters": {
								"object-to-create": "Player",
								"layer": "LAYER_Shadows",
								"x": "midX",
								"y": "midY",
								"create-hierarchy": true,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 745270294807430,
							"parameters": {
								"instance-variable": "playerId",
								"value": "sourcePlayerId"
							}
						},
						{
							"customAction": "init",
							"objectClass": "Player",
							"sid": 778435541206457
						}
					],
					"sid": 768383302968141
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "onAction",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "sourcePlayerId",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 259019913465708
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 582613880441401,
					"parameters": {
						"variable": "hasLevelEnded",
						"comparison": 0,
						"value": "NO"
					}
				}
			],
			"actions": [],
			"sid": 234693284807956,
			"children": [
				{
					"eventType": "comment",
					"text": "If player is already in the game..."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 833972293002152,
							"parameters": {
								"instance-variable": "playerId",
								"comparison": 0,
								"value": "sourcePlayerId"
							}
						}
					],
					"actions": [],
					"sid": 504967874491718,
					"children": [
						{
							"eventType": "comment",
							"text": "If player is not aiming, reveal current tile if possible"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 785477784671936,
									"parameters": {
										"instance-variable": "IN_Aiming",
										"comparison": 0,
										"value": "NO"
									}
								}
							],
							"actions": [],
							"sid": 765014128072215,
							"children": [
								{
									"eventType": "comment",
									"text": "If player is not waiting for tiles closing"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-timer-running",
											"objectClass": "Player",
											"sid": 665988943870155,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "TIMER_Tile_Close"
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 715892902725538,
											"parameters": {
												"instance-variable": "health",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 960523638076194,
									"children": [
										{
											"eventType": "comment",
											"text": "Open new tile"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "Tile",
													"sid": 217856617325054,
													"parameters": {
														"animation": "ANIM_Closed"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "Tile",
													"sid": 438410682748995,
													"parameters": {
														"instance-variable": "playerId",
														"comparison": 0,
														"value": "NOTHING"
													}
												},
												{
													"id": "pick-overlapping-point",
													"objectClass": "System",
													"sid": 766355325631492,
													"parameters": {
														"object": "Tile",
														"x": "Player.X",
														"y": "Player.Y"
													}
												},
												{
													"id": "pick-nearestfurthest",
													"objectClass": "Tile",
													"sid": 756452857887799,
													"parameters": {
														"which": "nearest",
														"x": "Player.X",
														"y": "Player.Y"
													}
												}
											],
											"actions": [],
											"sid": 636123934621604,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "Player",
															"sid": 467581538417501,
															"parameters": {
																"instance-variable": "tileUID1",
																"comparison": 0,
																"value": "NOTHING"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "Player",
															"sid": 414454072879437,
															"parameters": {
																"instance-variable": "tileUID1",
																"value": "Tile.UID"
															}
														},
														{
															"customAction": "open",
															"objectClass": "Tile",
															"customActionObjectClass": "fTile",
															"sid": 838956458909499,
															"parameters": [
																"Player.playerId"
															]
														}
													],
													"sid": 510509456099767
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 437589877230794
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "Player",
															"sid": 973911729080530,
															"parameters": {
																"instance-variable": "tileUID2",
																"comparison": 0,
																"value": "NOTHING"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "Player",
															"sid": 755887845931136,
															"parameters": {
																"instance-variable": "tileUID2",
																"value": "Tile.UID"
															}
														},
														{
															"customAction": "open",
															"objectClass": "Tile",
															"customActionObjectClass": "fTile",
															"sid": 612259692317038,
															"parameters": [
																"Player.playerId"
															]
														}
													],
													"sid": 939060095029372
												}
											]
										},
										{
											"eventType": "comment",
											"text": "If player has two tiles open, check them for matches"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Player",
													"sid": 258016676210014,
													"parameters": {
														"instance-variable": "tileUID1",
														"comparison": 1,
														"value": "NOTHING"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "Player",
													"sid": 520878416578397,
													"parameters": {
														"instance-variable": "tileUID2",
														"comparison": 1,
														"value": "NOTHING"
													}
												}
											],
											"actions": [
												{
													"customAction": "checkTiles",
													"objectClass": "Player",
													"sid": 380845852197897
												}
											],
											"sid": 714975650224233
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "If player is aiming, throw box"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 306614124175863
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 981807215619431,
									"parameters": {
										"instance-variable": "boxUID",
										"comparison": 1,
										"value": "NOTHING"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "Player",
									"sid": 379802514388812,
									"parameters": {
										"child": "Box",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "remove-child",
									"objectClass": "Player",
									"sid": 346264454419824,
									"parameters": {
										"child": "Box"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 721228671435756,
									"parameters": {
										"instance-variable": "boxUID",
										"value": "NOTHING"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "Box",
									"sid": 534110799352279,
									"behaviorType": "Bullet",
									"parameters": {
										"state": "enabled"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "Box",
									"sid": 717504598752654,
									"behaviorType": "Bullet",
									"parameters": {
										"speed": "Player.R_Box_MovementSpeed"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "Box",
									"sid": 942938668608241,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "Self.R_OverlapCheckTIme",
										"type": "regular",
										"tag": "TIMER_Box_FarCheck"
									}
								}
							],
							"sid": 212683500043919
						}
					]
				},
				{
					"eventType": "comment",
					"text": "If player is not in the game yet, spawn them"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 970898995867014
						}
					],
					"actions": [
						{
							"customAction": "spawn",
							"objectClass": "Player",
							"sid": 750899929471340,
							"parameters": [
								"sourcePlayerId"
							]
						}
					],
					"sid": 694653583056779
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "checkTiles",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 271357122283101,
			"children": [
				{
					"eventType": "variable",
					"name": "healAmount",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 282041672747686
				},
				{
					"eventType": "comment",
					"text": "todo refactor"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Tile",
							"sid": 115906198600461,
							"parameters": {
								"unique-id": "Player.tileUID1"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "fTile",
							"sid": 487887627285496,
							"parameters": {
								"unique-id": "Player.tileUID2"
							}
						}
					],
					"actions": [],
					"sid": 914667370152696,
					"children": [
						{
							"eventType": "comment",
							"text": "If symbols match..."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Tile",
									"sid": 444010377632060,
									"parameters": {
										"instance-variable": "symbol",
										"comparison": 0,
										"value": "fTile.symbol"
									}
								}
							],
							"actions": [
								{
									"customAction": "remove",
									"objectClass": "Tile",
									"customActionObjectClass": "fTile",
									"sid": 610506249939683
								},
								{
									"customAction": "remove",
									"objectClass": "fTile",
									"sid": 847277258622668
								},
								{
									"id": "add-to-instvar",
									"objectClass": "Player",
									"sid": 140197894115624,
									"parameters": {
										"instance-variable": "pairsFound",
										"value": "1"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 151236500655693,
									"parameters": {
										"variable": "pairsFound",
										"value": "1"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 778835255933920,
									"parameters": {
										"variable": "healAmount",
										"value": "Player.R_Health_BonusOnPair"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 181145534061699,
									"parameters": {
										"instance-variable": "tileUID1",
										"value": "NOTHING"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 546557595528095,
									"parameters": {
										"instance-variable": "tileUID2",
										"value": "NOTHING"
									}
								}
							],
							"sid": 671774862284893,
							"children": [
								{
									"eventType": "comment",
									"text": "If symbol is an item..."
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 321219722387016,
											"parameters": {
												"object": "Tile",
												"expression": "int(Tile.symbol)",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 228569953273772,
									"children": [
										{
											"eventType": "comment",
											"text": "If item is health, heal immediately"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Tile",
													"sid": 211905526062728,
													"parameters": {
														"instance-variable": "symbol",
														"comparison": 0,
														"value": "IT_Health"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 952205922533722,
													"parameters": {
														"variable": "healAmount",
														"value": "Player.R_Health_BonusOnHeal"
													}
												}
											],
											"sid": 664699140082146
										},
										{
											"eventType": "comment",
											"text": "Otherwise pick up item"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 353242779660125
												}
											],
											"actions": [
												{
													"customAction": "spawn",
													"objectClass": "Box",
													"sid": 329378041470016,
													"parameters": [
														"fTile.X",
														"fTile.Y",
														"fTile.symbol"
													]
												}
											],
											"sid": 295692662093343
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Check win condition"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 483469909068095,
											"parameters": {
												"variable": "pairsFound",
												"comparison": 5,
												"value": "int(R_Level_Rows * R_Level_Columns * 0.5)"
											}
										}
									],
									"actions": [
										{
											"callFunction": "endLevel",
											"sid": 994755527730502
										}
									],
									"sid": 834295830116317
								}
							]
						},
						{
							"eventType": "comment",
							"text": "If symbols don't match, start close timer"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 482617275684659
								}
							],
							"actions": [
								{
									"id": "start-timer",
									"objectClass": "Player",
									"sid": 618439747426148,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "C_Tile_Reveal_Time",
										"type": "once",
										"tag": "TIMER_Tile_Close"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "Tile",
									"sid": 291780139570239,
									"disabled": true,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "C_Tile_Reveal_Time",
										"type": "once",
										"tag": "TIMER_Tile_Close"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "fTile",
									"sid": 538840826866904,
									"disabled": true,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "C_Tile_Reveal_Time",
										"type": "once",
										"tag": "TIMER_Tile_Close"
									}
								}
							],
							"sid": 515965583084604
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 237116541539317,
							"parameters": {
								"variable": "healAmount",
								"comparison": 1,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"customAction": "changeHealth",
							"objectClass": "Player",
							"sid": 429050405483691,
							"parameters": [
								"healAmount",
								"YES"
							]
						}
					],
					"sid": 813979145568860
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "changeHealth",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "amount",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 788125484134714
				},
				{
					"name": "showEffect",
					"type": "number",
					"initialValue": "1",
					"comment": "",
					"sid": 475508187527007
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 876028868693683,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 327557588605853,
							"parameters": {
								"instance-variable": "isDead",
								"comparison": 0,
								"value": "NO"
							}
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 773203129610748,
							"parameters": {
								"variable": "amount",
								"comparison": 1,
								"value": "0"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 141910721491267,
							"parameters": {
								"child": "bbPlayer",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 574291861658071,
							"parameters": {
								"instance-variable": "health",
								"value": "max(Self.health + amount, 0)"
							}
						}
					],
					"sid": 805586119650287,
					"children": [
						{
							"eventType": "comment",
							"text": "If player is out of health, kill them"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Player",
									"sid": 967729235063675,
									"parameters": {
										"instance-variable": "health",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "stop-timer",
									"objectClass": "Player",
									"sid": 584735293532447,
									"disabled": true,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "TIMER_Tile_Close"
									}
								},
								{
									"id": "stop-all-timers",
									"objectClass": "Player",
									"sid": 165312402361854,
									"behaviorType": "Timer"
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 301099852662800,
									"parameters": {
										"type": "log",
										"message": "\"Player \" & Player.playerId & \" ran out of time.\""
									}
								},
								{
									"customAction": "updateAnimation",
									"objectClass": "Player",
									"sid": 335316664388213,
									"parameters": [
										"ANIM_Dead"
									]
								},
								{
									"id": "set-enabled",
									"objectClass": "Player",
									"sid": 973141152181811,
									"behaviorType": "8Direction",
									"parameters": {
										"state": "disabled"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "Player",
									"sid": 464935520737221,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Player",
									"sid": 694427364425658,
									"parameters": {
										"instance-variable": "isDead",
										"value": "YES"
									}
								}
							],
							"sid": 696078194109802,
							"children": [
								{
									"eventType": "comment",
									"text": "Close tiles opened by player"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Tile",
											"sid": 192365626001959,
											"parameters": {
												"instance-variable": "playerId",
												"comparison": 0,
												"value": "Player.playerId"
											}
										}
									],
									"actions": [
										{
											"customAction": "close",
											"objectClass": "Tile",
											"customActionObjectClass": "fTile",
											"sid": 745359442238477
										}
									],
									"sid": 483595673687544
								},
								{
									"eventType": "comment",
									"text": "Remove box from player (so it can be picked up by others)"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-children",
											"objectClass": "Player",
											"sid": 267413859436160,
											"parameters": {
												"child": "Box",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "remove-from-parent",
											"objectClass": "Box",
											"sid": 926565569437107
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Box",
											"sid": 569943464926341,
											"parameters": {
												"instance-variable": "carrierPlayerUID",
												"value": "NOTHING"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Box",
											"sid": 890959477436508,
											"parameters": {
												"instance-variable": "targetPlayerUID",
												"value": "NOTHING"
											}
										}
									],
									"sid": 443655740833957
								},
								{
									"eventType": "comment",
									"text": "Check if there are any other non-dead players"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 852965188782884,
											"parameters": {
												"object": "Player"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Player",
											"sid": 604236896194652,
											"parameters": {
												"instance-variable": "isDead",
												"comparison": 0,
												"value": "NO"
											}
										}
									],
									"actions": [],
									"sid": 435082830479427
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 255908445233527
										}
									],
									"actions": [
										{
											"callFunction": "endLevel",
											"sid": 979852464736910
										}
									],
									"sid": 373681461283394
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Otherwise, show heal / hurt effect if needed"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 758337615578536
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 212714034772033,
									"parameters": {
										"variable": "showEffect",
										"comparison": 0,
										"value": "YES"
									}
								}
							],
							"actions": [],
							"sid": 828999726862885,
							"children": [
								{
									"eventType": "comment",
									"text": "Heal player"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 475213664926017,
											"parameters": {
												"variable": "amount",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 544203372826043,
											"disabled": true,
											"parameters": {
												"type": "log",
												"message": "\"Player healing: \" & amount"
											}
										},
										{
											"customAction": "spawnBlurb",
											"objectClass": "Player",
											"customActionObjectClass": "fBlurbSpawners",
											"sid": 107363528385713,
											"parameters": [
												"\"+\" & roundToDp(amount, 1) & \" HP\"",
												"Self.R_Blurb_ZOffset",
												"rgbEx(0, 100, 0)",
												"0.8"
											]
										}
									],
									"sid": 970924131013112
								},
								{
									"eventType": "comment",
									"text": "Damage player & start invincibility"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 856461419485721
										}
									],
									"actions": [
										{
											"id": "tween-value",
											"objectClass": "bbPlayer",
											"sid": 957228685879615,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "TWEEN_Player_Hurt",
												"start-value": "400",
												"end-value": "0",
												"time": "0.5",
												"ease": "easeoutcubic",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"customAction": "spawnBlurb",
											"objectClass": "Player",
											"customActionObjectClass": "fBlurbSpawners",
											"sid": 716545082769088,
											"parameters": [
												"str(roundToDp(amount, 1)) & \" HP\"",
												"Self.R_Blurb_ZOffset",
												"rgbEx(100, 0, 0)",
												"0.8"
											]
										}
									],
									"sid": 937613761076941
								}
							]
						}
					]
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "closeTiles",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 323014139554089,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Tile",
							"sid": 716484355461441,
							"parameters": {
								"unique-id": "Player.tileUID1"
							}
						}
					],
					"actions": [
						{
							"customAction": "close",
							"objectClass": "Tile",
							"customActionObjectClass": "fTile",
							"sid": 256468709778806
						}
					],
					"sid": 850100583965396
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Tile",
							"sid": 451585866593051,
							"parameters": {
								"unique-id": "Player.tileUID2"
							}
						}
					],
					"actions": [
						{
							"customAction": "close",
							"objectClass": "Tile",
							"customActionObjectClass": "fTile",
							"sid": 364559990204727
						}
					],
					"sid": 233600067202867
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 997507963423812,
							"parameters": {
								"instance-variable": "tileUID1",
								"value": "NOTHING"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Player",
							"sid": 155399988889392,
							"parameters": {
								"instance-variable": "tileUID2",
								"value": "NOTHING"
							}
						}
					],
					"sid": 650097116534947
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "startEffect",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "itemType",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 458212392066247
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 125086337551078,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 513824044455216,
							"parameters": {
								"variable": "itemType",
								"comparison": 0,
								"value": "IT_Sleep"
							}
						}
					],
					"actions": [
						{
							"id": "start-timer",
							"objectClass": "Player",
							"sid": 487840665438905,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "Functions.Config_getNumber(PARAM_Item_Sleep_Time)",
								"type": "once",
								"tag": "TIMER_Player_Sleep"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "Player",
							"sid": 408474461151307,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "Functions.Config_getNumber(PARAM_Item_Sleep_Time) - C_Player_WakeTime",
								"type": "once",
								"tag": "TIMER_Player_WakingUp"
							}
						},
						{
							"customAction": "updateAnimation",
							"objectClass": "Player",
							"sid": 574620748116242,
							"parameters": [
								"ANIM_Sleeping"
							]
						}
					],
					"sid": 242113141302686
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 323094733363609,
							"parameters": {
								"variable": "itemType",
								"comparison": 0,
								"value": "IT_Slow"
							}
						}
					],
					"actions": [
						{
							"id": "start-timer",
							"objectClass": "Player",
							"sid": 182757126736893,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "Functions.Config_getNumber(PARAM_Item_Slow_Time)",
								"type": "once",
								"tag": "TIMER_Player_Slow"
							}
						}
					],
					"sid": 650699818577864,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Player",
									"sid": 575784273237517,
									"parameters": {
										"child": "Particles",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "set-rate",
									"objectClass": "Particles",
									"sid": 642395338870302,
									"parameters": {
										"rate": "0"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "Particles",
									"sid": 686998409429202,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "Particles.Timeout",
										"type": "once",
										"tag": "TIMER_Particles_Destroy"
									}
								}
							],
							"sid": 820694317166512
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "Player",
									"sid": 760134916024210,
									"parameters": {
										"object": "Particles",
										"layer": "LAYER_Billboards",
										"image-point": "0",
										"create-hierarchy": false,
										"template-name": "IT_Slow"
									}
								},
								{
									"id": "add-child",
									"objectClass": "Player",
									"sid": 154609494094139,
									"parameters": {
										"child": "Particles",
										"transform-x": true,
										"transform-y": true,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-o": false,
										"transform-z-elevation": false,
										"transform-visibility": false,
										"destroy-with-parent": false
									}
								}
							],
							"sid": 677930493949892
						}
					]
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "updateAnimation",
			"objectClass": "Player",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "animationName",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 961442772629077
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 590559724811412,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 895449563551729,
							"parameters": {
								"instance-variable": "isDead",
								"comparison": 0,
								"value": "NO"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Player",
							"sid": 865024316998841,
							"parameters": {
								"child": "bbPlayer",
								"which": "own"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "bbPlayer",
							"sid": 797735980396482,
							"parameters": {
								"animation": "Self.playerId & \"_\" & animationName"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 120431472491068,
							"disabled": true,
							"parameters": {
								"type": "log",
								"message": "\"Setting animation of player #\" & Player.playerId & \" to \" & animationName"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "bbPlayer",
							"sid": 700344016102452,
							"parameters": {
								"animation": "Self.playerId & \"_\" & animationName",
								"from": "beginning"
							}
						}
					],
					"sid": 437791455581839
				}
			]
		}
	],
	"sid": 183802187831019
}