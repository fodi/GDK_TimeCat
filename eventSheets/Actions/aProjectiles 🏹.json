{
	"name": "aProjectiles üèπ",
	"events": [
		{
			"aceType": "action",
			"aceName": "spawn",
			"objectClass": "Projectile",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "x",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 325440642273663
				},
				{
					"name": "y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 483096017544374
				},
				{
					"name": "movementSpeed",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 522499249080531
				},
				{
					"name": "cannonAngle",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 297542659930192
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [
				{
					"type": "comment",
					"text": "Spawn a projectile (when a cannon attacks)"
				}
			],
			"sid": 883292258865159,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 199726494088204,
							"parameters": {
								"object-to-create": "Projectile",
								"layer": "LAYER_Main",
								"x": "x",
								"y": "y",
								"create-hierarchy": true,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Projectile",
							"sid": 639596886107665,
							"parameters": {
								"instance-variable": "R_Damage",
								"value": "Functions.Rules_getNumber(PARAM_Projectile_Damage)"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "Projectile",
							"sid": 702306236926921,
							"behaviorType": "Bullet",
							"parameters": {
								"speed": "movementSpeed"
							}
						},
						{
							"id": "set-angle",
							"objectClass": "Projectile",
							"sid": 601765072250859,
							"parameters": {
								"angle": "cannonAngle"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "Projectile",
							"sid": 553642301519027,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "1",
								"type": "regular",
								"tag": "TIMER_Projectile_Cleanup"
							}
						}
					],
					"sid": 855366166513788,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Projectile",
									"sid": 302871287020527,
									"parameters": {
										"child": "Projectile_Particles",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "set-speed",
									"objectClass": "Projectile_Particles",
									"sid": 736525534664854,
									"parameters": {
										"speed": "Projectile.Bullet.Speed * 0.3"
									}
								}
							],
							"sid": 997676468860045
						}
					]
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "cleanup",
			"objectClass": "Projectile",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [
				{
					"type": "comment",
					"text": "Destroy projectiles that are no longer needed"
				}
			],
			"sid": 210009717697070,
			"children": [
				{
					"eventType": "comment",
					"text": "Destroy projectiles that are no longer above the water"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Projectile",
							"sid": 584766817070766,
							"parameters": {
								"object": "Water"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 750155261263904,
							"disabled": true,
							"parameters": {
								"type": "log",
								"message": "\"Destroying far away projectile #\" & Projectile.UID"
							}
						},
						{
							"id": "destroy",
							"objectClass": "Projectile",
							"sid": 862826577280235
						}
					],
					"sid": 678676251513351
				},
				{
					"eventType": "comment",
					"text": "Destroy slow moving projectiles (deflected projectiles can grind to a halt)"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-speed",
							"objectClass": "Projectile",
							"sid": 406978912182017,
							"behaviorType": "Bullet",
							"parameters": {
								"comparison": 2,
								"speed": "10"
							}
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 824346904181355,
							"parameters": {
								"object": "Projectile"
							}
						}
					],
					"actions": [
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 765432337799581,
							"disabled": true,
							"parameters": {
								"type": "log",
								"message": "\"Destroyed slow projectile #\" & Projectile.UID"
							}
						},
						{
							"id": "destroy",
							"objectClass": "Projectile",
							"sid": 223990715377594
						}
					],
					"sid": 978455720021485
				}
			]
		}
	],
	"sid": 641569333295045
}