{
	"name": "aCannon ðŸ’¥",
	"events": [
		{
			"aceType": "action",
			"aceName": "spawn",
			"objectClass": "Cannon",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [
				{
					"type": "comment",
					"text": "todo make sure cannons don't spawn on top of / too near each other"
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 806580820701891,
					"parameters": {
						"object-to-create": "Cannon",
						"layer": "LAYER_Main",
						"x": "midX",
						"y": "midY",
						"create-hierarchy": true,
						"template-name": "\"\""
					}
				},
				{
					"customAction": "init",
					"objectClass": "Cannon",
					"sid": 253427507074522
				}
			],
			"sid": 435920396597194
		},
		{
			"aceType": "action",
			"aceName": "init",
			"objectClass": "Cannon",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [
				{
					"type": "comment",
					"text": "Override parameters if needed"
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Cannon",
					"sid": 690211573832285,
					"parameters": {
						"instance-variable": "R_Projectile_MovementSpeed",
						"value": "Functions.Config_getNumber(PARAM_Projectile_Speed)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Cannon",
					"sid": 266754995629713,
					"parameters": {
						"instance-variable": "R_Projectile_MovementSpeed_Increase",
						"value": "Functions.Config_getNumber(PARAM_Projectile_Speed_Increase)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Cannon",
					"sid": 438581806872930,
					"parameters": {
						"instance-variable": "R_Projectile_MovementSpeed_Max",
						"value": "Functions.Config_getNumber(PARAM_Projectile_Speed_Max)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Cannon",
					"sid": 681429461930306,
					"parameters": {
						"instance-variable": "R_Shoot_Interval_Min",
						"value": "Functions.Config_getNumber(PARAM_Projectile_SpawnTime_Min)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "Cannon",
					"sid": 473721105520821,
					"parameters": {
						"instance-variable": "R_Shoot_Interval_Max",
						"value": "Functions.Config_getNumber(PARAM_Projectile_SpawnTime_Max)"
					}
				},
				{
					"type": "comment",
					"text": "Initialize projectile spawner"
				},
				{
					"id": "set-target",
					"objectClass": "Cannon",
					"sid": 809900119677547,
					"behaviorType": "Orbit",
					"parameters": {
						"x": "midX",
						"y": "midY"
					}
				},
				{
					"id": "set-rotation",
					"objectClass": "Cannon",
					"sid": 125703501558468,
					"behaviorType": "Orbit",
					"parameters": {
						"angle": "random(0, 360)"
					}
				},
				{
					"id": "set-radius",
					"objectClass": "Cannon",
					"sid": 780200512576932,
					"behaviorType": "Orbit",
					"parameters": {
						"primary": "midX + C_Tile_Size * 2",
						"secondary": "midY + C_Tile_Size * 2"
					}
				},
				{
					"id": "set-speed",
					"objectClass": "Cannon",
					"sid": 715680477239772,
					"behaviorType": "Orbit",
					"parameters": {
						"speed": "Self.Orbit.Speed * choose(-1, 1)"
					}
				},
				{
					"customAction": "startShootTimer",
					"objectClass": "Cannon",
					"sid": 578130863081581
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 629752088080533
				},
				{
					"id": "set-visible",
					"objectClass": "Cannon",
					"sid": 893351637958558,
					"parameters": {
						"visibility": "visible"
					}
				}
			],
			"sid": 519383514606256
		},
		{
			"aceType": "action",
			"aceName": "shoot",
			"objectClass": "Cannon",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 173883774634553,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Player",
							"sid": 757464214803311,
							"parameters": {
								"instance-variable": "health",
								"comparison": 4,
								"value": "0"
							}
						},
						{
							"id": "pick-nearestfurthest",
							"objectClass": "Player",
							"sid": 901508114031172,
							"parameters": {
								"which": "furthest",
								"x": "Cannon.X",
								"y": "Cannon.Y"
							}
						}
					],
					"actions": [
						{
							"customAction": "spawn",
							"objectClass": "Projectile",
							"sid": 196987873204044,
							"parameters": [
								"Cannon.X",
								"Cannon.Y",
								"Player.X",
								"Player.Y",
								"Cannon.R_Projectile_MovementSpeed"
							]
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Cannon",
							"sid": 157928397321412,
							"parameters": {
								"instance-variable": "R_Projectile_MovementSpeed",
								"value": "min(Self.R_Projectile_MovementSpeed + Self.R_Projectile_MovementSpeed_Increase, Self.R_Projectile_MovementSpeed_Max)"
							}
						}
					],
					"sid": 692676499856425
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 127610369337241
						}
					],
					"actions": [
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 504311610538907,
							"parameters": {
								"type": "log",
								"message": "\"Cannon has no target\""
							}
						}
					],
					"sid": 175363721439393
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "startShootTimer",
			"objectClass": "Cannon",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [
				{
					"id": "start-timer",
					"objectClass": "Cannon",
					"sid": 520434317754823,
					"behaviorType": "Timer",
					"parameters": {
						"duration": "random(Self.R_Shoot_Interval_Min, Self.R_Shoot_Interval_Max)",
						"type": "once",
						"tag": "TIMER_Cannon_Shoot"
					}
				}
			],
			"sid": 472290367645562
		}
	],
	"sid": 414515668687685
}